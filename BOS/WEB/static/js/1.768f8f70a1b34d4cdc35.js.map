{"version":3,"sources":["webpack:///static/js/1.768f8f70a1b34d4cdc35.js","webpack:///src/components/static/EditDocumentCategoryForm.vue","webpack:///./src/components/static/EditDocumentCategoryForm.vue?6a94","webpack:///./src/components/dynamic/DocumentCategoryTree.vue?a0d6","webpack:///./src/components/static/CreateDocumentCategoryForm.vue","webpack:///src/components/static/CreateDocumentCategoryForm.vue","webpack:///./src/components/static/CreateDocumentCategoryForm.vue?b548","webpack:///./src/components/static/DocumentCategories.vue?827c","webpack:///./src/components/static/SettingGroupAndProject.vue?76e8","webpack:///./src/components/static/SettingGroupAndProject.vue","webpack:///./src/components/static/GroupCategories.vue","webpack:///src/components/static/GroupCategories.vue","webpack:///./src/components/dynamic/GroupCategoryTree.vue","webpack:///./src/components/dynamic/GroupCategoryTree.vue?2292","webpack:///./src/components/dynamic/GroupCategoryTree.vue?5c78","webpack:///src/components/dynamic/GroupCategoryTree.vue","webpack:///./src/components/static/EditGroupCategory.vue","webpack:///./src/components/static/EditGroupCategory.vue?7a4d","webpack:///./src/components/static/EditGroupCategory.vue?c152","webpack:///src/components/static/EditGroupCategory.vue","webpack:///./src/components/static/EditGroupCategory.vue?a822","webpack:///./src/components/dynamic/GroupCategoryTree.vue?8cab","webpack:///./src/components/static/CreateGroupCategoryForm.vue","webpack:///src/components/static/CreateGroupCategoryForm.vue","webpack:///./src/components/static/CreateGroupCategoryForm.vue?42a5","webpack:///./src/components/static/GroupCategories.vue?7d57","webpack:///./src/components/static/SettingGroupAndProject.vue?5a31","webpack:///./src/components/static/SettingGroupAndProject.vue?ede7","webpack:///src/components/static/SettingGroupAndProject.vue","webpack:///./src/components/static/Project.vue","webpack:///./src/components/static/Project.vue?0eef","webpack:///./src/components/static/Project.vue?7be4","webpack:///src/components/static/Project.vue","webpack:///./src/components/static/Project.vue?56f8","webpack:///./src/components/static/DocumentCategories.vue","webpack:///src/components/static/DocumentCategories.vue","webpack:///./src/components/dynamic/DocumentCategoryTree.vue","webpack:///./src/components/dynamic/DocumentCategoryTree.vue?46cd","webpack:///./src/components/dynamic/DocumentCategoryTree.vue?7215","webpack:///src/components/dynamic/DocumentCategoryTree.vue","webpack:///./src/components/static/EditDocumentCategoryForm.vue"],"names":["webpackJsonp","1000","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__services_utils__","props","data","rules","Name","validator","rule","value","callback","trim","Error","trigger","model","Id","this","oldName","components","created","addNew","ParentName","methods","checkExits","_this","ctrl","request","$Lodash","cloneDeep","$singleRequest","isEmpty","R1_RequestTemplate","R1_ParentId","ParentId","R1_Level","parseInt","Level","post","then","listExitsTags","getDataWithRoot","R1","filter","el","toLowerCase","length","showMessage","save","_this2","undefined","R1_ReferenceId","level","R1_NestedSetType","R1_Name","updateParamsSingleRequest","success","$toastMessage","updateItemPre","updateItemSuf","linkToRoleEveryone","Data","Caption","$hub","$emit","updateItemFailed","onSubmit","formName","_this3","$refs","validate","valid","1001","render","_vm","_h","$createElement","_c","_self","ref","attrs","inline","label-width","label","prop","placeholder","$$v","$set","expression","_v","disabled","_e","type","on","click","$event","staticRenderFns","esExports","1002","staticClass","treeData","mixinParentKey","dragEnable","closeStateKey","changePosition","scopedSlots","_u","key","fn","item","class","exitChild","children","changeState","_s","href","addSetting","aria-hidden","editCategory","deleteSetting","1003","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CreateDocumentCategoryForm_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02e362f8_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CreateDocumentCategoryForm_vue__","normalizeComponent","Component","1004","formInline","Parent","handleChange","rootId","postCheckResult","dData","1005","$isMobileDevice","options","groupcategories","change-on-select","clearable","change","1006","categories","datasource","1007","tab-position","tabPosition","activeName","name","894","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SettingGroupAndProject_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4187a870_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_SettingGroupAndProject_vue__","__vue_styles__","916","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GroupCategories_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_32c6034c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GroupCategories_vue__","917","__WEBPACK_IMPORTED_MODULE_0__components_dynamic_GroupCategoryTree__","__WEBPACK_IMPORTED_MODULE_1__components_static_CreateGroupCategoryForm__","GroupCategoryTree","CreateGroupCategoryForm","categoriesTree","centerDialogVisible","collapseIcon","expandIcon","delete","dataToPass","loadCategories","RequestClass","RequestAction","TotalRequests","R1_ParentCode","R1_IncludedNestedSetParent","$Utils","response","category","shift","closeDialog","destroyed","$off","mounted","$on","watch","newCat","createCustomTreeFromList","918","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GroupCategoryTree_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ae61956e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GroupCategoryTree_vue__","919","exports","content","i","locals","920","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","921","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__components_static_EditGroupCategory__","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__","component","ListData","viewModel","updateDatagroup","init","PageKey","getSetting","R2_RequestTemplate","R2_ParentCode","SourceList","R2","RootLevel","each","index","childRank","eval","text","option","_this4","R1_Id","afterParent","getAllLevel","taskRequest","R1_RequestDataGroup","R1_RequestFields","R1_Keyword","task","ListTask","inputData","checkParent","isNew","_this5","$confirm","replace","confirmButtonText","cancelButtonText","sourceTree","deleteItem","catch","$message","message","flag","_this6","objParent","listExitsCate","insertSetting","_this7","R1_ValueName","onSave","_this8","R1_Code","R2_Level","R2_Name","R3_RequestTemplate","R3_ParentCode","R3_Level","R3_Name","R4_RequestTemplate","R4_ParentCode","R4_Level","R4_Name","SettingFilter","Description","JSON","parse","objFields","sortedFilter","FCount","FilterSettings","setFilterSetting","FilterSetting","Fields","ListModules","concat","R3","R4","forEach","ObjectFields","OFCount","DatagroupSource","status","_this9","strFields","indexOf","obj","DataSource","FieldColumnType","FieldStorageType","FilterIsUsed","FormDisplay","FormFieldType","FormIncludeSubmit","FormValidate","ListButtonGroups","ListIsHidden","PlaceHolder","ReportIsUsed","arrValue","Value","objValue","ColumnType","StorageType","sourceFields","iStartIndex","substring","requestData","saveModules","_this10","dataGroup","arrModules","ModuleType","DataGroupCaption","RootData","AdditionConditions","Link","Dependencies","arrDefaultFields","field","isExist","dgField","ManualCalculator","sourceField","splice","Groups","group","ListFields","Buttons","button","Code","sourceButton","moduleButton","dgButton","deleteAutoValue","DynamicText","iFieldCount","RequestTemplate","parent","selectedItem","_this11","$parent","unshift","Categories","newCategory","catName","CategoriesName","split","cat","val","call","922","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditGroupCategory_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d1ebfc78_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditGroupCategory_vue__","923","924","925","categorie","groups","valueGroup","valueGroupName","valueGroupId","itemCate","getGroups","req","R1_GroupType","updateCate","id","GroupId","GroupName","R1_$$mdSelectId","$treeNodeId","R1_oldName","R1_Value","closeForm","DynamicDS","Setting","926","staticStyle","width","multiple","_l","span","927","928","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CreateGroupCategoryForm_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c5b40e94_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CreateGroupCategoryForm_vue__","929","__WEBPACK_IMPORTED_MODULE_1__components_dynamic_SelectCheck__","__WEBPACK_IMPORTED_MODULE_2__components_dynamic_SelectTree__","ParentCategory","Group","isDisable","grcate","SelectedCategory","SelectedGroup","rotateGroups","SelectCheck","SelectTree","setParent","ele","k","v","loadGroups","rotateDementionArr","childUpdate","childTreeUpdate","isUpdateAfter","error","join","pass","clone","ValueName","angular","copy","singleRequest","refFields","refButtons","k2","loadGroupcategories","grcategories","930","required","931","title","visible","center","update:visible","close","985","986","987","__WEBPACK_IMPORTED_MODULE_0__components_static_Groups_vue__","__WEBPACK_IMPORTED_MODULE_1__components_static_GroupCategories_vue__","__WEBPACK_IMPORTED_MODULE_2__components_static_Project_vue__","__WEBPACK_IMPORTED_MODULE_3__components_static_DocumentCategories_vue__","GroupCategories","Project","DocumentCategories","988","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Project_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_bd48db2c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Project_vue__","989","990","991","__WEBPACK_IMPORTED_MODULE_0__components_static_EditProject__","EditProject","ListProject","searchText","getProject","toLocaleLowerCase","editProject","user","search","removeProject","showConfirm","oneWayAction","deleteSettingWarning","searchRequest","R2_Value","R3_RequestDataGroup","R3_RequestFields","R3_Project","R4_RequestDataGroup","R4_Code","R4_Project","dataS","requestDel","listSetting","listSettings","listTask","listVersion","deleteItemPre","deleteItemSuf","createProject","992","size","icon","slot","border","scope","row","993","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DocumentCategories_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_67b005d6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DocumentCategories_vue__","994","__WEBPACK_IMPORTED_MODULE_0__components_dynamic_DocumentCategoryTree__","__WEBPACK_IMPORTED_MODULE_1__components_static_CreateDocumentCategoryForm__","__WEBPACK_IMPORTED_MODULE_2__services_utils__","DocumentCategoryTree","CreateDocumentCategoryForm","995","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DocumentCategoryTree_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_01abd379_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DocumentCategoryTree_vue__","996","997","998","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_2__components_static_EditDocumentCategoryForm__","consoleData","999","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditDocumentCategoryForm_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b66c3c6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditDocumentCategoryForm_vue__"],"mappings":"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","file":"static/js/1.768f8f70a1b34d4cdc35.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 1000:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_utils__ = __webpack_require__(7);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: [\"data\"],\n  data: function data() {\n    var validateName = function validateName(rule, value, callback) {\n      if (value === \"\" || value.trim() === \"\") {\n        callback(new Error(\"Tên cần phải có\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      rules: {\n        Name: [{ validator: validateName, trigger: \"blur\" }]\n      },\n      model: {\n        Id: this.data.Id,\n        Name: this.data.Name,\n        oldName: this.data.Name\n      }\n    };\n  },\n\n  components: {},\n  created: function created() {\n    if (this.data.addNew) {\n      this.model = {\n        Name: '',\n        ParentName: this.data.Name\n      };\n    }\n  },\n\n  methods: {\n    checkExits: function checkExits() {\n      var _this = this;\n\n      var ctrl = this;\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      if (__WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].isEmpty(ctrl.model.oldName) && ctrl.model.oldName.trim() !== ctrl.model.Name.trim()) {\n        request.R1_RequestTemplate = \"Setting.SearchBase\";\n        request.R1_ParentId = this.data.ParentId;\n        request.R1_Level = parseInt(this.data.Level);\n        __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].post(request).then(function (data) {\n          var listExitsTags = __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n          listExitsTags = listExitsTags.filter(function (el) {\n            return el.Id !== _this.data.Id && el.Name.trim().toLowerCase() === ctrl.model.Name.trim().toLowerCase();\n          });\n          if (listExitsTags.length > 0) {\n            __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].showMessage(\"error\", \"Tên đã tồn tại\");\n            return false;\n          } else {\n            _this.save();\n          }\n        });\n      }\n      if (this.data.addNew) {\n        request.R1_RequestTemplate = \"Setting.SearchBase\";\n        request.R1_ParentId = 'a54d39ff-71be-4fe7-8130-a9fc9c447f1c';\n        request.R1_Level = parseInt(this.data.Level) + 1;\n        __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].post(request).then(function (data) {\n          var listExitsTags = __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n          listExitsTags = listExitsTags.filter(function (el) {\n            return el.Name.trim().toLowerCase() === ctrl.model.Name.trim().toLowerCase();\n          });\n          if (listExitsTags.length > 0) {\n            __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].showMessage(\"error\", \"Tên đã tồn tại\");\n            return false;\n          } else {\n            _this.save();\n          }\n        });\n      }\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Update\";\n      if (this.model.Id === undefined || this.model.Id === \"\") {\n        request.R1_ReferenceId = this.data.level === '0' ? 'a54d39ff-71be-4fe7-8130-a9fc9c447f1c' : this.data.Id;\n        request.R1_RequestTemplate = \"Setting.Insert\";\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        request.R1_Name = this.model.Name;\n      } else {\n        request = __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].updateParamsSingleRequest(request, this.model);\n      }\n      __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].post(request).then(function (data) {\n        if (data.success) {\n          __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].showMessage(\"success\", _this2.$toastMessage.updateItemPre + _this2.$toastMessage.updateItemSuf);\n          if (request.R1_RequestTemplate === \"Setting.Insert\") {\n            __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].linkToRoleEveryone([{\n              Id: data.R1.Data,\n              Caption: _this2.model.Name\n            }]);\n          }\n          _this2.$hub.$emit(\"update-document-category-tree\");\n          _this2.$hub.$emit(\"update-document-category-selecttree\");\n          _this2.$hub.$emit(\"close-modal\");\n        } else __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].showMessage(\"error\", _this2.$toastMessage.updateItemFailed);\n      });\n    },\n    onSubmit: function onSubmit(formName) {\n      var _this3 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this3.checkExits();\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 1001:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"validateForm\",attrs:{\"inline\":true,\"rules\":_vm.rules,\"model\":_vm.model,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Tên danh mục\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên danh mục\"},model:{value:(_vm.model.Name),callback:function ($$v) {_vm.$set(_vm.model, \"Name\", $$v)},expression:\"model.Name\"}})],1),_vm._v(\" \"),(_vm.data.addNew)?_c('el-form-item',{attrs:{\"label\":\"Danh mục cha\"}},[_c('el-input',{attrs:{\"placeholder\":\"Danh mục cha\",\"disabled\":\"\"},model:{value:(_vm.model.ParentName),callback:function ($$v) {_vm.$set(_vm.model, \"ParentName\", $$v)},expression:\"model.ParentName\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('validateForm')}}},[_vm._v(\"Lưu\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 1002:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"document-categories\"},[_c('b-card',[_c('sortable-tree',{attrs:{\"data\":_vm.treeData,\"mixinParentKey\":\"$parent\",\"dragEnable\":true,\"closeStateKey\":\"$foldClose\"},on:{\"changePosition\":_vm.changePosition},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"custom-tree-content\",class:{'exitChild': item.children && item.children.length}},[(item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▶\")]):(!item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▼\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"mr-3\",on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(_vm._s(item.Name))]),_vm._v(\" \"),_c('span',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.addSetting(item)}}},[_c('i',{staticClass:\"fa fa-plus\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),(item.level!='0')?_c('span',[_vm._v(\"\\n               | \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editCategory(item)}}},[_c('i',{staticClass:\"fa fa-pencil-square-o\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" |\\n              \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.deleteSetting(item)}}},[_c('i',{staticClass:\"fa fa-trash\",attrs:{\"aria-hidden\":\"true\"}})])]):_vm._e()])])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 1003:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CreateDocumentCategoryForm_vue__ = __webpack_require__(1004);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02e362f8_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CreateDocumentCategoryForm_vue__ = __webpack_require__(1005);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CreateDocumentCategoryForm_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02e362f8_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CreateDocumentCategoryForm_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 1004:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_utils__ = __webpack_require__(7);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: [\"groupcategories\", \"rootId\", \"Level\", \"callback\", \"grcategories\"],\n  data: function data() {\n    var validateName = function validateName(rule, value, callback) {\n      if (value === undefined || value.trim() === \"\") {\n        callback(new Error(\"Tên cần phải có\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      formInline: {\n        Name: \"\",\n        ParentId: undefined,\n        Parent: []\n      },\n      rules: {\n        Name: [{ validator: validateName, trigger: \"blur\" }]\n      }\n    };\n  },\n\n  components: {},\n  methods: {\n    handleChange: function handleChange(value) {\n      this.formInline.ParentId = value[value.length - 1];\n    },\n    checkExits: function checkExits() {\n      var _this = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchBase\";\n      request.R1_ParentId = __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].isEmpty(this.formInline.ParentId) ? this.formInline.ParentId : this.rootId;\n      request.R1_Level = parseInt(this.Level) + 1 + this.formInline.Parent.length;\n      __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].post(request).then(function (data) {\n        var listExitsTags = __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n\n        listExitsTags = listExitsTags.filter(function (el) {\n          return el.Name.trim().toLowerCase() == _this.formInline.Name.trim().toLowerCase();\n        });\n        if (listExitsTags.length > 0) {\n          __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].showMessage(\"error\", \"Tên đã tồn tại\");\n          return false;\n        } else {\n          _this.save();\n        }\n      });\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var ctrl = this.formInline;\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Insert\";\n      request.R1_Name = ctrl.Name;\n      request.R1_ReferenceId = __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].isEmpty(ctrl.ParentId) ? ctrl.ParentId : this.rootId;\n      request.R1_NestedSetType = \"InsertLastChildNode\";\n      __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].postCheckResult(request).then(function (dData) {\n        __WEBPACK_IMPORTED_MODULE_0__services_utils__[\"a\" /* default */].linkToRoleEveryone([{\n          Id: dData.R1.Data,\n          Caption: ctrl.Name\n        }]);\n        _this2.formInline.Name = '';\n        _this2.formInline.Parent = [];\n        _this2.formInline.ParentId = undefined;\n        _this2.$hub.$emit(\"update-document-category-tree\");\n      });\n    },\n    onSubmit: function onSubmit(formName) {\n      var _this3 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this3.checkExits();\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 1005:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"validateForm\",attrs:{\"inline\":!_vm.$isMobileDevice,\"rules\":_vm.rules,\"label-width\":\"130px\",\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"Tên danh mục\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên danh mục\"},model:{value:(_vm.formInline.Name),callback:function ($$v) {_vm.$set(_vm.formInline, \"Name\", $$v)},expression:\"formInline.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Danh mục cha\"}},[_c('el-cascader',{attrs:{\"options\":_vm.groupcategories,\"placeholder\":\"Chọn\",\"change-on-select\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formInline.Parent),callback:function ($$v) {_vm.$set(_vm.formInline, \"Parent\", $$v)},expression:\"formInline.Parent\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('validateForm')}}},[_vm._v(\"Lưu\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 1006:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"validateForm\",attrs:{\"inline\":!_vm.$isMobileDevice,\"rules\":_vm.rules,\"label-width\":\"130px\",\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"Tên danh mục\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên danh mục\"},model:{value:(_vm.formInline.Name),callback:function ($$v) {_vm.$set(_vm.formInline, \"Name\", $$v)},expression:\"formInline.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Danh mục cha\"}},[_c('el-cascader',{attrs:{\"options\":_vm.categories,\"placeholder\":\"Chọn\",\"change-on-select\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formInline.Parent),callback:function ($$v) {_vm.$set(_vm.formInline, \"Parent\", $$v)},expression:\"formInline.Parent\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('validateForm')}}},[_vm._v(\"Lưu\")])],1)],1),_vm._v(\" \"),_c('DocumentCategoryTree',{attrs:{\"datasource\":_vm.treeData}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 1007:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{attrs:{\"tab-position\":_vm.tabPosition},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"Phòng ban\",\"name\":\"Groups\"}},[(_vm.activeName=='Groups')?_c('Groups'):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Dự án\",\"name\":\"Project\"}},[(_vm.activeName=='Project')?_c('Project'):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Nghiệp vụ\",\"name\":\"GroupCategories\"}},[(_vm.activeName=='GroupCategories')?_c('GroupCategories'):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Danh mục tài liệu\",\"name\":\"DocumentCategories\"}},[(_vm.activeName=='DocumentCategories')?_c('DocumentCategories'):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 894:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SettingGroupAndProject_vue__ = __webpack_require__(987);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4187a870_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_SettingGroupAndProject_vue__ = __webpack_require__(1007);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(985)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4187a870\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SettingGroupAndProject_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4187a870_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_SettingGroupAndProject_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 916:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GroupCategories_vue__ = __webpack_require__(917);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_32c6034c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GroupCategories_vue__ = __webpack_require__(931);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GroupCategories_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_32c6034c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GroupCategories_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 917:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_dynamic_GroupCategoryTree__ = __webpack_require__(918);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_static_CreateGroupCategoryForm__ = __webpack_require__(928);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: { GroupCategoryTree: __WEBPACK_IMPORTED_MODULE_0__components_dynamic_GroupCategoryTree__[\"a\" /* default */], CreateGroupCategoryForm: __WEBPACK_IMPORTED_MODULE_1__components_static_CreateGroupCategoryForm__[\"a\" /* default */] },\n  data: function data() {\n    return {\n      categories: [],\n      categoriesTree: [],\n      rootId: '',\n      centerDialogVisible: false,\n      item: {},\n      treeData: {\n        Name: 'Danh mục nghiệp vụ',\n        children: [],\n        level: '0',\n        Level: '5',\n        collapseIcon: 'fa fa-cog',\n        expandIcon: 'fa fa-cog'\n      }\n    };\n  },\n\n\n  methods: {\n    delete: function _delete(dataToPass) {},\n    loadCategories: function loadCategories() {\n      var _this = this;\n\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"SettingNew.SearchSetting\",\n        R1_ParentCode: \"xSetting.Project.Parameter.Organization.Category\",\n        R1_IncludedNestedSetParent: true\n      };\n      this.$Utils.post(request).then(function (response) {\n\n        var category = [];\n        category = _this.$Utils.getDataWithRoot(response.R1, \"Data.DynamicDS.Setting\");\n        _this.categories = category;\n        _this.rootId = _this.$Lodash.cloneDeep(_this.categories[0].Id);\n        _this.categories.shift();\n      });\n    },\n    closeDialog: function closeDialog() {\n      this.item = {};\n    }\n  },\n  destroyed: function destroyed() {\n    this.$hub.$off('update-category-tree');\n    this.$hub.$off('update-category-tree-form');\n    this.$hub.$off('addNewCat');\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.loadCategories();\n\n    this.$hub.$on('update-category-tree', function () {\n      _this2.loadCategories();\n      _this2.centerDialogVisible = false;\n    });\n\n    this.$hub.$on('addNewCat', function (item) {\n      _this2.item = item;\n      _this2.centerDialogVisible = true;\n    });\n\n    this.$hub.$on('update-category-tree-form', function () {\n      _this2.loadCategories();\n    });\n  },\n\n  watch: {\n    categories: function categories(newCat) {\n      this.categoriesTree = this.$Utils.createCustomTreeFromList(this.$Lodash.cloneDeep(newCat), \"Id\", \"ParentId\", \"children\", { Name: \"label\", Id: \"value\" }, {});\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 918:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GroupCategoryTree_vue__ = __webpack_require__(921);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ae61956e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GroupCategoryTree_vue__ = __webpack_require__(927);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(919)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ae61956e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GroupCategoryTree_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ae61956e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GroupCategoryTree_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 919:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(920);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(887)(\"52cdb6f5\", content, true);\n\n/***/ }),\n\n/***/ 920:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(886)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".group-categories .card[data-v-ae61956e]{margin-bottom:0}.group-categories .custom-tree-content[data-v-ae61956e]{position:relative;top:2px;z-index:1}.group-categories .custom-tree-content.exitChild[data-v-ae61956e]{margin-left:-7px}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/crm_2/src/components/dynamic/GroupCategoryTree.vue\"],\"names\":[],\"mappings\":\"AACA,yCACE,eAAmB,CACpB,AACD,wDACE,kBAAmB,AACnB,QAAS,AACT,SAAW,CACZ,AACD,kEACI,gBAAkB,CACrB\",\"file\":\"GroupCategoryTree.vue\",\"sourcesContent\":[\"\\n.group-categories .card[data-v-ae61956e] {\\n  margin-bottom: 0px;\\n}\\n.group-categories .custom-tree-content[data-v-ae61956e] {\\n  position: relative;\\n  top: 2px;\\n  z-index: 1;\\n}\\n.group-categories .custom-tree-content.exitChild[data-v-ae61956e] {\\n    margin-left: -7px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 921:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_static_EditGroupCategory__ = __webpack_require__(922);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__ = __webpack_require__(43);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"default\"].component(__WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__[\"a\" /* default */].name, __WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: ['rootId', 'callback'],\n  data: function data() {\n    return {\n      Name: '',\n      Parent: '',\n      ListData: [],\n      viewModel: {},\n      treeData: {\n        Name: 'Danh mục nghiệp vụ',\n        children: [],\n        level: '0',\n        Level: '5',\n        collapseIcon: 'fa fa-cog',\n        expandIcon: 'fa fa-cog'\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.updateDatagroup();\n    this.init();\n    this.$hub.$on('update-category-tree', function () {\n      _this.updateDatagroup();\n      _this.init();\n    });\n  },\n  destroyed: function destroyed() {\n    this.$hub.$off('update-category-tree');\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    init: function init() {\n      var _this2 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = 'Setting.SearchSetting';\n      request.R1_ParentCode = 'xSetting.Project.Parameter.Organization.Category';\n      request.R1_IncludedNestedSetParent = true;\n      this.$Utils.post(request).then(function (data) {\n        _this2.ListData = _this2.$Utils.getDataWithRoot(data.R1, 'Data.DynamicDS.Setting');\n        if (_this2.$Utils.isEmpty(_this2.ListData, \"0\")) {\n          _this2.ParentId = _this2.$Lodash.cloneDeep(_this2.ListData[0].Id);\n          _this2.ListData.shift();\n          _this2.PageKey = _this2.ListData[0];\n          _this2.getSetting();\n        }\n      });\n    },\n    getSetting: function getSetting() {\n      var _this3 = this;\n\n      this.ListData = [];\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = 'Setting.SearchSettingTree';\n      request.R1_ParentCode = 'xSetting.Project.Parameter.Organization.Category';\n      request.R2_RequestTemplate = 'Setting.SearchSetting';\n      request.R2_ParentCode = 'xSetting.Project.Parameter.Organization.Category';\n      request.TotalRequests = 2;\n      this.$Utils.postCheckResult(request).then(function (data) {\n        _this3.treeData.children = _this3.$Utils.getDataWithRoot(data.R1, 'Data');\n        var SourceList = _this3.$Utils.getDataWithRoot(data.R2, 'Data.DynamicDS.Setting');\n        if (_this3.$Utils.isEmpty(SourceList, '0')) {\n          var RootLevel = _this3.$Lodash.cloneDeep(SourceList[0].Level);\n        }\n        $.each(SourceList, function (key, value) {\n          var index = key - 1;\n          _this3.ListData.push(value);\n          var childRank = eval(value.Level - RootLevel);\n          _this3.ListData[key].text = \"\";\n          while (childRank > 0) {\n            _this3.ListData[key].text += \"|-- \";\n            childRank--;\n          }\n          _this3.ListData[key].text += value.Name;\n        });\n      });\n    },\n    changeState: function changeState(item) {\n      this.$set(item, '$foldClose', !item['$foldClose']);\n    },\n    changePosition: function changePosition(option) {\n      var _this4 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = 'Setting.MoveNode';\n      request.R1_Id = option.data.Id;\n      if (option.afterParent.children && option.afterParent.children.length > 1) {\n        var index = 0;\n        $.each(option.afterParent.children, function (key, value) {\n          if (value.Id == option.data.Id && key > 0) {\n            index = key - 1;\n            request.R1_ReferenceId = option.afterParent.children[index].Id;\n            request.R1_NestedSetType = 'MoveToAfterAnother';\n          } else if (value.Id == option.data.Id && key == 0) {\n            index = 1;\n            request.R1_ReferenceId = option.afterParent.children[index].Id;\n            request.R1_NestedSetType = 'MoveToBeforeAnother';\n          }\n        });\n      } else {\n        request.R1_ReferenceId = option.afterParent.Id;\n        request.R1_NestedSetType = 'MoveToLastChildNode';\n      }\n      this.$Utils.post(request).then(function (data) {\n        _this4.getAllLevel(option.afterParent.Level, option.data);\n        _this4.$hub.$emit('update-category-tree-form');\n\n\n        var taskRequest = _this4.$Lodash.cloneDeep(_this4.$singleRequest);\n        taskRequest.R1_RequestTemplate = \"AG_Task_Task.Search\";\n        taskRequest.R1_RequestDataGroup = \"DataGroup.danh-sach-cong-viec.04b66\";\n        taskRequest.R1_RequestFields = \"Id;Index;Categories;CategoriesName;Code;CategoriesLevel1;CategoriesLevel2;CategoriesLevel3;CategoriesLevel4;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;CategoriesLevel5;CategoriesLevel6;CategoriesLevel7;CategoriesLevel8;CategoriesLevel9;CategoriesLevel10;CategoriesLevel11;CategoriesLevel12\";\n        taskRequest.R1_Keyword = option.data.Id;\n        _this4.$Utils.post(taskRequest).then(function (task) {\n          task = _this4.$Utils.getDataWithRoot(task.R1, 'Data.TasksDS.Task');\n          _this4.ListTask = _this4.$Lodash.cloneDeep(task);\n          _this4.inputData = [];\n          _this4.checkParent(option.afterParent, option.data);\n        });\n      });\n    },\n    editCategory: function editCategory(item, isNew) {\n      if (isNew) {\n        this.$hub.$emit('addNewCat', item);\n      } else {\n        this.$hub.$emit(\"set-modal-data\", \"Sửa nghiệp vụ\", \"40%\", true, \"center\", __WEBPACK_IMPORTED_MODULE_1__components_static_EditGroupCategory__[\"a\" /* default */], true, '', item);\n      }\n    },\n    deleteSetting: function deleteSetting(data) {\n      var _this5 = this;\n\n      this.$confirm(\"Bạn có chắc chắn muốn xóa nghiệp vụ {0} này?\".replace('{0}', data.Name), \"Cảnh báo\", {\n        confirmButtonText: \"Xóa\",\n        cancelButtonText: \"Bỏ qua\",\n        type: \"warning\"\n      }).then(function () {\n        if (_this5.$Utils.isEmpty(data)) {\n          var sourceTree = _this5.$Lodash.cloneDeep(_this5.ListData);\n          _this5.deleteItem(data, sourceTree);\n        }\n      }).catch(function () {\n        _this5.$message({\n          type: \"info\",\n          message: \"Lỗi khi xóa\"\n        });\n      });\n    },\n    deleteItem: function deleteItem(data, sourceTree) {\n      var ctrl = this;\n      var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Delete\";\n      request.R1_Id = data.Id;\n      ctrl.$Utils.postCheckResult(request).then(function (dData) {\n        var flag = true;\n        $.each(sourceTree, function (key, value) {\n          if (data.Id == value.ParentId) {\n            ctrl.deleteItem(value, sourceTree);\n            flag = false;\n          }\n        });\n        if (flag === true) {\n          ctrl.getSetting();\n          ctrl.$hub.$emit(\"update-document-category-selecttree\");\n        }\n      });\n    },\n    checkExits: function checkExits() {\n      var _this6 = this;\n\n      if (this.Parent && this.Parent != '') this.objParent = this.ListData.filter(function (el) {\n        return el.Id == _this6.Parent;\n      })[0];\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = 'Setting.SearchSetting';\n\n      request.R1_ParentCode = 'xSetting.Project.Parameter.Project.Category';\n      this.$Utils.post(request).then(function (data) {\n        var listExitsCate = _this6.$Utils.getDataWithRoot(data.R1, 'Data.DynamicDS.Setting');\n        listExitsCate = listExitsCate.filter(function (el) {\n          return el.Name == _this6.Name;\n        });\n        if (listExitsCate.length > 0) {} else {\n          _this6.insertSetting();\n        }\n      });\n    },\n    insertSetting: function insertSetting(data) {\n      var _this7 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Insert\";\n      request.R1_Name = this.Name;\n\n      request.R1_ValueName = this.data.Name;\n      request.R1_ReferenceId = this.$Utils.isEmpty(this.objParent) ? this.objParent.Id : this.ParentId;\n      request.R1_NestedSetType = 'InsertLastChildNode';\n      this.$Utils.postCheckResult(request).then(function (dData) {\n        _this7.$Utils.linkToRoleEveryone([{\n          Id: dData.R1.Data,\n          Caption: _this7.Name\n        }]);\n        if (_this7.$Utils.isEmpty(_this7.objParent, 'Level')) _this7.onSave(_this7.objParent.Level);else _this7.onSave(5);\n\n        _this7.Name = null;\n        _this7.objParent = null;\n        _this7.getSetting();\n      });\n    },\n    updateDatagroup: function updateDatagroup() {\n      var _this8 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 4;\n      request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R1_Code = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R2_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R2_ParentCode = \"xSetting.Project.Form\";\n      request.R2_Level = \"4\";\n      request.R2_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R3_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R3_ParentCode = \"xSetting.Project.List\";\n      request.R3_Level = \"4\";\n      request.R3_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R4_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R4_ParentCode = \"xSetting.Project.Filter\";\n      request.R4_Level = \"4\";\n      request.R4_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      this.$Utils.post(request).then(function (data) {\n        _this8.SettingFilter = _this8.$Utils.getDataWithRoot(data.R1, 'Data.DynamicDS.Setting')[0];\n        if (_this8.$Utils.isEmpty(_this8.SettingFilter, 'Description') && typeof _this8.SettingFilter.Description == 'string') _this8.SettingFilter.Description = JSON.parse(_this8.SettingFilter.Description);\n        _this8.objFields = {};\n        _this8.sortedFilter = [];\n        for (var i = 1; i <= _this8.SettingFilter.Description.FCount; i++) {\n          if (i == 1) _this8.FilterSettings = \"\";\n          _this8.FilterSettings += _this8.SettingFilter['F' + i];\n          if (i == _this8.SettingFilter.Description.FCount) {\n            _this8.setFilterSetting = true;\n            _this8.FilterSetting = JSON.parse(_this8.FilterSettings);\n            _this8.SettingFilter.Fields = _this8.FilterSetting;\n          }\n        }\n        _this8.viewModel.ListModules = _this8.$Utils.getDataWithRoot(data.R2, 'Data.DynamicDS.Setting');\n        _this8.viewModel.ListModules = _this8.viewModel.ListModules.concat(_this8.$Utils.getDataWithRoot(data.R3, 'Data.DynamicDS.Setting'));\n        _this8.viewModel.ListModules = _this8.viewModel.ListModules.concat(_this8.$Utils.getDataWithRoot(data.R4, 'Data.DynamicDS.Setting'));\n        _this8.viewModel.ListModules.forEach(function (item) {\n          if (item.Description != undefined) {\n            item.Description = JSON.parse(item.Description);\n            item.ObjectFields = '';\n            for (var i = 1; i <= item.Description.OFCount; i++) {\n              if (item['OF' + i] != undefined) item.ObjectFields += item['OF' + i];\n            }\n            item.ObjectFields = JSON.parse(item.ObjectFields);\n          }\n        });\n        _this8.DatagroupSource = _this8.$Lodash.cloneDeep(_this8.viewModel.ListModules);\n      });\n    },\n    onSave: function onSave(level, status) {\n      var _this9 = this;\n\n      var strFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);\n      level = level - 4;\n      if (strFields.indexOf(\"CategoriesLevel\" + level) == -1) {\n        var obj = {\n          Caption: \"Danh mục phòng ban cấp \" + level,\n          DataSource: \"xDynamicData_Setting\",\n          FieldColumnType: \"String\",\n          FieldStorageType: \"Struct\",\n          FilterIsUsed: \"true\",\n          FormDisplay: \"- Danh mục phòng ban cấp \" + level + \" -\",\n          FormFieldType: \"Hidden\",\n          FormIncludeSubmit: \"true\",\n          FormValidate: \"\",\n          ListButtonGroups: \"\",\n          ListIsHidden: \"true\",\n          Name: \"CategoriesLevel\" + level,\n          PlaceHolder: \"- Danh mục phòng ban \" + level + \" -\",\n          ReportIsUsed: \"true\"\n        };\n        this.SettingFilter.Fields.push(obj);\n        strFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);\n        var arrValue = JSON.parse(this.SettingFilter.Value);\n        var objValue = {\n          Name: \"CategoriesLevel\" + level,\n          ColumnType: \"String\",\n          StorageType: \"Struct\"\n        };\n        arrValue.push(objValue);\n        this.SettingFilter.Value = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(arrValue);\n        this.sourceFields = this.$Lodash.cloneDeep(this.SettingFilter.Fields);\n        delete this.SettingFilter.Fields;\n        var iStartIndex = 0;\n        this.SettingFilter.Description.FCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (strFields.length > iStartIndex) {\n            this.SettingFilter['F' + i] = strFields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            this.SettingFilter.Description.FCount = i;\n          }\n        }\n        this.SettingFilter.Description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Description);\n        if (!this.$Utils.isEmpty(status) || status == false) {\n          var requestData = this.$Lodash.cloneDeep(this.$singleRequest);\n          this.$Utils.updateParamsSingleRequest(requestData, this.$Lodash.cloneDeep(this.SettingFilter));\n          requestData.R1_RequestTemplate = \"SettingNew.Update\";\n          this.$Utils.post(requestData).then(function (requestData) {\n            _this9.saveModules();\n          });\n        }\n      }\n    },\n    saveModules: function saveModules() {\n      var _this10 = this;\n\n      var dataGroup = this.$Lodash.cloneDeep(this.SettingFilter);\n      dataGroup.Description = JSON.parse(dataGroup.Description);\n      dataGroup.Description.Fields = this.$Lodash.cloneDeep(this.sourceFields);\n      var arrModules = this.$Lodash.cloneDeep(this.viewModel.ListModules);\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 0;\n      arrModules.forEach(function (module) {\n        request.TotalRequests++;\n\n        module.ModuleType = module.Value;\n        module.Description.DataGroupCaption = dataGroup.Caption;\n        module.Description.RootData = dataGroup.Description.RootData;\n        module.Description.DataSource = dataGroup.Description.DataSource;\n        module.Description.AdditionConditions = dataGroup.Description.AdditionConditions;\n        if (['Form', 'Filter', 'List'].indexOf(module.Description.ModuleType) != -1) module.Description.Link = dataGroup.Description.Link;\n\n        if (['Form', 'Filter'].indexOf(module.Description.ModuleType) != -1) module.Description.Dependencies = dataGroup.Description.Dependencies;\n        var refFields = _this10.$Lodash.cloneDeep(module.ObjectFields);\n        var arrDefaultFields = ['Multicheck', 'IndexDefault', 'Tool'];\n        refFields.forEach(function (field) {\n          var isExist = false;\n          for (var i = 0; i < dataGroup.Description.Fields.length; i++) {\n            var dgField = dataGroup.Description.Fields[i];\n            if (field.Name == dgField.Name) {\n              isExist = true;\n              break;\n            }\n          }\n          if (['List'].indexOf(module.Description.ModuleType) != -1) {\n            if (arrDefaultFields.indexOf(field.Name) != -1) isExist = true;\n            if (field.ManualCalculator == 'true') isExist = true;\n          }\n          if (!isExist) {\n            $.each(module.ObjectFields, function (index, sourceField) {\n              if (field.Name == sourceField.Name) module.ObjectFields.splice(index, 1);\n            });\n            if (module.Description.Groups != undefined) {\n              module.Description.Groups.forEach(function (group) {\n                if (group.ListFields != undefined) if (group.ListFields.indexOf(field.Name) != -1) group.ListFields = group.ListFields.replace(field.Name + ';', '');\n              });\n            }\n          }\n        });\n        if (_this10.$Utils.isEmpty(module.Description, 'Buttons')) {\n          var refButtons = _this10.$Lodash.cloneDeep(module.Description.Buttons);\n          refButtons.forEach(function (button) {\n            var isExist = false;\n            for (var i = 0; i < dataGroup.Description.Buttons.length; i++) {\n              var dgButton = dataGroup.Description.Buttons[i];\n              if (dgButton.Code == button.Code) isExist = true;\n            }\n            if (!isExist) {\n              $.each(module.Description.Buttons, function (index, sourceButton) {\n                if (button.Code == sourceButton.Code) module.Description.Buttons.splice(index, 1);\n              });\n            }\n          });\n\n          module.Description.Buttons.forEach(function (moduleButton) {\n            module.Description.Buttons.forEach(function (dgButton) {\n              if (dgButton.Code == moduleButton.Code) moduleButton = dgButton;\n            });\n          });\n        }\n\n        if (['Form', 'List'].indexOf(module.Description.ModuleType) != -1) {\n          for (var i = 0; i < module.Description.Buttons.length; i++) {\n            dataGroup.Description.Buttons.forEach(function (dgButton) {\n              if (module.Description.Buttons[i].Code == dgButton.Code) module.Description.Buttons[i] = dgButton;\n            });\n          }\n        }\n\n        module.Fields = _this10.$Lodash.cloneDeep(module.ObjectFields);\n        module.Fields.forEach(function (field) {\n          dataGroup.Description.Fields.forEach(function (dgField) {\n            if (dgField.Name == field.Name) {\n              $.each(dgField, function (key, value) {\n                if (!_this10.$Utils.isEmpty(field[key])) field[key] = value;\n              });\n              _this10.$Utils.deleteAutoValue(field);\n            }\n          });\n        });\n\n        if (['Form', 'Filter'].indexOf(module.Description.ModuleType) != -1) {\n          dataGroup.Description.Fields.forEach(function (field) {\n            _this10.$Utils.deleteAutoValue(field);\n            if (field.FormFieldType == 'Hidden') module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null) module.Fields.push({ Name: field.DynamicText, FieldStorageType: 'Dynamic' });\n          });\n        } else {\n          dataGroup.Description.Fields.forEach(function (field) {\n            _this10.$Utils.deleteAutoValue(field);\n            if (field.ListIsHidden == 'true') module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null) module.Fields.push({ Name: field.DynamicText, FieldStorageType: 'Dynamic' });\n          });\n        }\n\n        module.ObjectFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.ObjectFields);\n        var iStartIndex = 0;\n        var iFieldCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (module.ObjectFields.length > iStartIndex) {\n            module['OF' + i] = module.ObjectFields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.OFCount = iFieldCount;\n        delete module.ObjectFields;\n\n        iStartIndex = 0;\n        iFieldCount = 0;\n        module.Fields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.Fields);\n        for (var i = 1; i < 7; i++) {\n          if (module.Fields.length > iStartIndex) {\n            module['F' + i] = module.Fields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.FCount = iFieldCount;\n        delete module.Fields;\n\n        module.Description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.Description);\n        request = _this10.$Utils.updateParamsSingleRequest(request, module, request.TotalRequests);\n        request = _this10.$Utils.updateParamsSingleRequest(request, { RequestTemplate: 'SettingNew.Update' }, request.TotalRequests);\n      });\n      this.$Utils.post(request).then(function (data) {\n        _this10.updateDatagroup();\n      });\n    },\n    getAllLevel: function getAllLevel(parent, data) {\n      this.onSave(eval(parent) + 1);\n      if (this.$Utils.isEmpty(data.children)) {\n        this.getAllLevel(eval(parent) + 1, data.children);\n      }\n    },\n    checkParent: function checkParent(selectedItem) {\n      var _this11 = this;\n\n      if (this.$Utils.isEmpty(selectedItem, '$parent')) {\n        var parent = this.$Lodash.cloneDeep(selectedItem.$parent);\n        delete selectedItem.$parent;\n        this.inputData.unshift(parent);\n        this.checkParent(selectedItem.$parent);\n      } else {\n        var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n        taskRequest.TotalRequests = 0;\n        $.each(this.ListTask, function (index, task) {\n          if (_this11.$Utils.isEmpty(task, 'CategoriesName') && task.Categories != \"\") {\n            var flag = false;\n            var newCategory = _this11.$Lodash.cloneDeep(_this11.inputData);\n            var catName = _this11.$Utils.isEmpty(task, 'CategoriesName') ? task.CategoriesName.split(';') : [];\n            $.each(task.Categories.split(';'), function (key, category) {\n              if (category != \"\") {\n                if (flag == true) {\n                  var cat = {};\n                  cat.Id = category;\n                  cat.Name = catName[key];\n                  newCategory.push(cat);\n                }\n                if (category == _this11.inputData[_this11.inputData.length - 1].Id) {\n                  flag = true;\n                }\n              }\n            });\n            if (flag == true) {\n              taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestTemplate'] = \"AG_Task_Task.Update\";\n              taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestDataGroup'] = \"DataGroup.danh-sach-cong-viec.04b66\";\n              taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] = \"Id;Index;Categories;Code;\";\n              taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Categories'] = \"\";\n              taskRequest['R' + [taskRequest.TotalRequests + 1] + '_CategoriesName'] = \"\";\n              taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Id'] = task.Id;\n              $.each(newCategory, function (val, key) {\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Categories'] += val.Id + \";\";\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_CategoriesName'] += val.Name + \";\";\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_CategoriesLevel' + [key + 1]] = val.Id;\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] += 'CategoriesLevel' + [key + 1] + ';';\n              });\n              taskRequest.TotalRequests++;\n            }\n          }\n        });\n        this.$Utils.post(taskRequest);\n      }\n    }\n  }\n\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 922:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditGroupCategory_vue__ = __webpack_require__(925);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d1ebfc78_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditGroupCategory_vue__ = __webpack_require__(926);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(923)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditGroupCategory_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d1ebfc78_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditGroupCategory_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 923:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(924);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(887)(\"a8c46968\", content, true);\n\n/***/ }),\n\n/***/ 924:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(886)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"EditGroupCategory.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 925:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: ['data'],\n  components: {},\n  data: function data() {\n    return {\n      categorie: this.data.Name,\n      groups: [],\n      valueGroup: [],\n      valueGroupName: '',\n      valueGroupId: '',\n      categories: [],\n      itemCate: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    if (this.$Utils.isEmpty(this.data.Value)) {\n      var arrCate = this.data.Value.split(';');\n      arrCate.forEach(function (item) {\n        if (item.length > 1) {\n          _this.valueGroup.push(item);\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getGroups();\n  },\n\n  methods: {\n    getGroups: function getGroups() {\n      var _this2 = this;\n\n      var req = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'OrgnizationList',\n        R1_GroupType: 1\n      };\n      this.$Utils.post(req).then(function (response) {\n        _this2.groups = _this2.$Utils.getDataWithRoot(response.R1, 'Data.UserDS.Group');\n      });\n    },\n    updateCate: function updateCate() {\n      var _this3 = this;\n\n      this.groups.forEach(function (item) {\n        _this3.valueGroup.forEach(function (id) {\n          if (id == item.GroupId) {\n            _this3.valueGroupName += item.GroupName;\n            _this3.valueGroupId += id + ';';\n          }\n        });\n      });\n      var req = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'Setting.MigrateSetting',\n        R1_Id: this.data.Id,\n        R1_Level: this.data.Level,\n        R1_Name: this.categorie,\n        R1_ParentId: this.data.ParentId,\n        R1_$$mdSelectId: this.data.$treeNodeId,\n        R1_oldName: this.categorie,\n        R1_Value: this.valueGroupId,\n        R1_ValueName: this.valueGroupName\n      };\n      this.$Utils.postCheckResult(req).then(function (response) {\n        if (response.success) {\n          _this3.$message({\n            message: 'Cập nhật thành công',\n            type: 'success'\n          });\n          _this3.$hub.$emit(\"update-category-tree\");\n          _this3.closeForm();\n        }\n      });\n    },\n    loadCategories: function loadCategories() {\n      var _this4 = this;\n\n      var req = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'Setting.SearchBase',\n        R1_ParentCode: 'xSetting.Project.Parameter.Organization.Category'\n      };\n      this.$Utils.post(req).then(function (response) {\n        _this4.categories = response.R1.Data.DynamicDS.Setting;\n      });\n    },\n    closeForm: function closeForm() {\n      this.$hub.$emit('close-modal');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 926:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"Chuyên mục\"}},[_c('el-input',{attrs:{\"placeholder\":\"Chuyên mục\"},model:{value:(_vm.categorie),callback:function ($$v) {_vm.categorie=$$v},expression:\"categorie\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Thuộc phòng ban\"}},[(_vm.groups && _vm.groups.length > 0)?_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"placeholder\":\"Chọn phòng ban\"},model:{value:(_vm.valueGroup),callback:function ($$v) {_vm.valueGroup=$$v},expression:\"valueGroup\"}},_vm._l((_vm.groups),function(item){return _c('el-option',{key:item.GroupId,attrs:{\"label\":item.GroupName,\"value\":item.GroupId}})})):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateCate}},[_vm._v(\"Lưu\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.closeForm}},[_vm._v(\"Đóng\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 927:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group-categories\"},[_c('b-card',[_c('sortable-tree',{attrs:{\"data\":_vm.treeData,\"mixinParentKey\":\"$parent\",\"dragEnable\":true,\"closeStateKey\":\"$foldClose\"},on:{\"changePosition\":_vm.changePosition},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"custom-tree-content\",class:{'exitChild': item.children && item.children.length}},[(item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▶\")]):(!item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▼\")]):_vm._e(),_vm._v(\" \"),(item.level!='0')?_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editCategory(item, false)}}},[_vm._v(_vm._s(item.Name))]):_c('span',[_vm._v(_vm._s(item.Name))]),_vm._v(\" \"),_c('span',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editCategory(item, true)}}},[_c('i',{staticClass:\"fa fa-plus\"})]),_vm._v(\" \"),(item.level!='0')?_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.deleteSetting(item)}}},[_vm._v(\"\\n                |\"),_c('i',{staticClass:\"fa fa-trash\",attrs:{\"aria-hidden\":\"true\"}})]):_vm._e()])])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 928:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CreateGroupCategoryForm_vue__ = __webpack_require__(929);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c5b40e94_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CreateGroupCategoryForm_vue__ = __webpack_require__(930);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CreateGroupCategoryForm_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c5b40e94_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CreateGroupCategoryForm_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 929:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_dynamic_SelectCheck__ = __webpack_require__(100);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_dynamic_SelectTree__ = __webpack_require__(29);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: [\"groupcategories\", \"rootId\", \"callback\", \"grcategories\", \"parent\"],\n  data: function data() {\n    return {\n      ParentCategory: this.parent ? this.parent.Id : '',\n      formInline: {\n        Name: \"\",\n        Group: [],\n        ParentCategory: this.parent ? [this.parent.Id] : [],\n        isDisable: false\n      },\n      grcate: [],\n      groups: [],\n      SelectedCategory: [],\n      SelectedGroup: [],\n      rotateGroups: [],\n      SettingFilter: {},\n      viewModel: {},\n      Value: []\n    };\n  },\n\n  components: {\n    SelectCheck: __WEBPACK_IMPORTED_MODULE_1__components_dynamic_SelectCheck__[\"a\" /* default */],\n    SelectTree: __WEBPACK_IMPORTED_MODULE_2__components_dynamic_SelectTree__[\"a\" /* default */]\n  },\n  methods: {\n    setParent: function setParent(id) {\n      var _this = this;\n\n      var data = {};\n      $.each(this.groupcategories, function (key, ele) {\n        if (id[0] === ele.Id) {\n          data.Value = ele.Value;\n          return;\n        }\n      });\n\n      var ctrl = this;\n\n      ctrl.Value = [];\n      ctrl.formInline.Group = ctrl.Value;\n      this.formInline.isDisable = false;\n      if (data) {\n        $.each(ctrl.groups, function (key, value) {\n          if (data.Value) {\n            $.each(data.Value.split(\";\"), function (k, v) {\n              if (data && value.GroupId == v) {\n                ctrl.Value.push(value.GroupId);\n              }\n            });\n            _this.formInline.isDisable = true;\n          }\n        });\n        if (ctrl.Value.length > 0) {\n          ctrl.formInline.Group = ctrl.Value;\n        }\n      }\n    },\n    loadGroups: function loadGroups() {\n      var _this2 = this;\n\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"OrgnizationList\",\n        R1_GroupType: 1\n      };\n\n      this.$Utils.post(request).then(function (response) {\n        if (response.success) {\n          _this2.groups = _this2.$Utils.getDataWithRoot(response.R1, 'Data.UserDS.Group');\n          _this2.rotateGroups = _this2.$Utils.rotateDementionArr(_this2.groups, \"GroupId\");\n        }\n      });\n    },\n    loadCategories: function loadCategories() {\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"SettingNew.SearchSetting\",\n        R1_ParentCode: \"xSetting.Project.Parameter.Organization.Category\",\n        R1_GroupType: 1\n      };\n      this.$Utils.post(request).then(function (response) {\n        if (response.data.success) {}\n      });\n    },\n    childUpdate: function childUpdate(value) {\n      this.Group = value;\n    },\n    childTreeUpdate: function childTreeUpdate(value) {},\n    onSubmit: function onSubmit() {\n      this.checkExits();\n    },\n    checkExits: function checkExits(isUpdateAfter) {\n      var ctrl = this;\n      if (this.formInline.Name == \"\") {\n        this.$message.error(\"Tên Nghiệp vụ không được để trống\");\n      } else {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.SearchSetting\";\n        request.R1_ParentCode = \"xSetting.Project.Parameter.Organization.Category\";\n        request.R1_Name = ctrl.formInline.Name;\n        request.R1_ReferenceId = ctrl.$Utils.isEmpty(ctrl.formInline.ParentCategory) ? ctrl.formInline.ParentCategory[ctrl.formInline.ParentCategory.length - 1] : ctrl.rootId;\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        request.R1_IncludedNestedSetParent = true;\n        ctrl.$Utils.post(request).then(function (data) {\n          var listExitsCate = ctrl.$Utils.getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n          listExitsCate = listExitsCate.filter(function (el) {\n            return el.Name == ctrl.Name;\n          });\n          if (listExitsCate.length > 0) {\n            ctrl.$message.error(\"Danh mục phòng ban đã tồn tại.\");\n          } else {\n            ctrl.insertSetting(isUpdateAfter);\n          }\n        });\n      }\n    },\n    insertSetting: function insertSetting(data) {\n      var _this3 = this;\n\n      var ctrl = this;\n      var GroupId = \"\";\n      var GroupName = \"\";\n      if (this.formInline.Name == \"\") {\n        this.$Utils.showMessage(\"error\", \"Tên Nghiệp vụ không được để trống\");\n      } else {\n        var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.Insert\";\n        request.R1_Name = ctrl.formInline.Name;\n        request.R1_Value = ctrl.Value.join(\";\");\n\n        request.R1_ReferenceId = ctrl.formInline.ParentCategory.length > 0 ? ctrl.formInline.ParentCategory[ctrl.formInline.ParentCategory.length - 1] : ctrl.rootId;\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        ctrl.$Utils.postCheckResult(request).then(function (dData) {\n          ctrl.$Utils.linkToRoleEveryone([{\n            Id: dData.R1.Data,\n            Caption: ctrl.formInline.Name\n          }]);\n          if (ctrl.$Utils.isEmpty(ctrl.rotateGroups[request.R1_ReferenceId], \"Level\")) ctrl.onSave(ctrl.rotateGroups[request.R1_ReferenceId].Level);else ctrl.onSave(5);\n          if (ctrl.$Utils.isEmpty(data)) {\n            var pass = {};\n            pass.Id = dData.R1.Data;\n            if (ctrl.$Utils.isEmpty(ctrl.formInline.Name)) pass.Name = ctrl.$Utils.clone(ctrl.formInline.Name);\n            if (ctrl.$Utils.isEmpty(GroupId)) {\n              pass.Value = GroupId;\n              pass.ValueName = GroupName;\n            }\n          }\n\n          _this3.$message.success(\"Nghiệp vụ {0} thành công.\".replace('{0}', ctrl.formInline.Name));\n          ctrl.formInline.Name = \"\";\n          ctrl.formInline.Group = [];\n          ctrl.formInline.ParentCategory = [];\n          _this3.$hub.$emit(\"update-category-tree\");\n        });\n      }\n    },\n    onSave: function onSave(level, status) {\n      var ctrl = this;\n      var strFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(ctrl.SettingFilter.Fields);\n      level = level - 4;\n      if (strFields.indexOf(\"CategoriesLevel\" + level) == -1) {\n        var obj = {\n          Caption: \"Danh mục phòng ban cấp \" + level,\n          DataSource: \"xDynamicData_Setting\",\n          FieldColumnType: \"String\",\n          FieldStorageType: \"Struct\",\n          FilterIsUsed: \"true\",\n          FormDisplay: \"- Danh mục phòng ban cấp \" + level + \" -\",\n          FormFieldType: \"Hidden\",\n          FormIncludeSubmit: \"true\",\n          FormValidate: \"\",\n          ListButtonGroups: \"\",\n          ListIsHidden: \"true\",\n          Name: \"CategoriesLevel\" + level,\n          PlaceHolder: \"- Danh mục phòng ban \" + level + \" -\",\n          ReportIsUsed: \"true\"\n        };\n        ctrl.SettingFilter.Fields.push(obj);\n        strFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(ctrl.SettingFilter.Fields);\n        var arrValue = JSON.parse(ctrl.SettingFilter.Value);\n        var objValue = {\n          Name: \"CategoriesLevel\" + level,\n          ColumnType: \"String\",\n          StorageType: \"Struct\"\n        };\n        arrValue.push(objValue);\n        ctrl.SettingFilter.Value = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(arrValue);\n        ctrl.sourceFields = ctrl.$Lodash.cloneDeep(ctrl.SettingFilter.Fields);\n        delete ctrl.SettingFilter.Fields;\n        var iStartIndex = 0;\n        ctrl.SettingFilter.Description.FCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (strFields.length > iStartIndex) {\n            ctrl.SettingFilter[\"F\" + i] = strFields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            ctrl.SettingFilter.Description.FCount = i;\n          }\n        }\n        ctrl.SettingFilter.Description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(ctrl.SettingFilter.Description);\n        if (!ctrl.$Utils.isEmpty(status) || status == false) {\n          var requestData = angular.copy(singleRequest);\n          ctrl.$Utils.updateParamsSingleRequest(requestData, angular.copy(ctrl.SettingFilter));\n          requestData.R1_RequestTemplate = \"SettingNew.Update\";\n\n          ctrl.$Utils.post(requestData).then(function (requestData) {\n            ctrl.saveModules();\n          });\n        }\n      }\n    },\n    saveModules: function saveModules() {\n      var ctrl = this;\n      var dataGroup = ctrl.$Lodash.cloneDeep(ctrl.SettingFilter);\n      dataGroup.Description = JSON.parse(dataGroup.Description);\n      dataGroup.Description.Fields = ctrl.$Lodash.cloneDeep(ctrl.sourceFields);\n      var arrModules = ctrl.$Lodash.cloneDeep(ctrl.viewModel.ListModules);\n      var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n      request.TotalRequests = 0;\n      $.each(arrModules, function (k, module) {\n        request.TotalRequests++;\n        module.ModuleType = module.Value;\n        module.Description.DataGroupCaption = dataGroup.Caption;\n        module.Description.RootData = dataGroup.Description.RootData;\n        module.Description.DataSource = dataGroup.Description.DataSource;\n        module.Description.AdditionConditions = dataGroup.Description.AdditionConditions;\n        if ([\"Form\", \"Filter\", \"List\"].indexOf(module.Description.ModuleType) != -1) module.Description.Link = dataGroup.Description.Link;\n\n        if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1) module.Description.Dependencies = dataGroup.Description.Dependencies;\n        var refFields = ctrl.$Lodash.cloneDeep(module.ObjectFields);\n        var arrDefaultFields = [\"Multicheck\", \"IndexDefault\", \"Tool\"];\n        $.each(refFields, function (k, field) {\n          var isExist = false;\n          for (var i = 0; i < dataGroup.Description.Fields.length; i++) {\n            var dgField = dataGroup.Description.Fields[i];\n            if (field.Name == dgField.Name) {\n              isExist = true;\n              break;\n            }\n          }\n          if ([\"List\"].indexOf(module.Description.ModuleType) != -1) {\n            if (arrDefaultFields.indexOf(field.Name) != -1) isExist = true;\n            if (field.ManualCalculator == \"true\") isExist = true;\n          }\n          if (!isExist) {\n            $.each(module.ObjectFields, function (index, sourceField) {\n              if (field.Name == sourceField.Name) module.ObjectFields.splice(index, 1);\n            });\n            if (module.Description.Groups != undefined) {\n              $.each(module.Description.Groups, function (k, group) {\n                if (group.ListFields != undefined) if (group.ListFields.indexOf(field.Name) != -1) group.ListFields = group.ListFields.replace(field.Name + \";\", \"\");\n              });\n            }\n          }\n        });\n\n        var refButtons = angular.copy(module.Description.Buttons);\n        $.each(refButtons, function (k, button) {\n          var isExist = false;\n          for (var i = 0; i < dataGroup.Description.Buttons.length; i++) {\n            var dgButton = dataGroup.Description.Buttons[i];\n            if (dgButton.Code == button.Code) isExist = true;\n          }\n          if (!isExist) {\n            $.each(module.Description.Buttons, function (index, sourceButton) {\n              if (button.Code == sourceButton.Code) module.Description.Buttons.splice(index, 1);\n            });\n          }\n        });\n\n        $.each(module.Description.Buttons, function (k, moduleButton) {\n          $.each(module.Description.Buttons, function (k, dgButton) {\n            if (dgButton.Code == moduleButton.Code) moduleButton = dgButton;\n          });\n        });\n\n        if ([\"Form\", \"List\"].indexOf(module.Description.ModuleType) != -1) {\n          for (var i = 0; i < module.Description.Buttons.length; i++) {\n            $.each(dataGroup.Description.Buttons, function (k, dgButton) {\n              if (module.Description.Buttons[i].Code == dgButton.Code) module.Description.Buttons[i] = dgButton;\n            });\n          }\n        }\n\n        module.Fields = angular.copy(module.ObjectFields);\n        $.each(module.Fields, function (k, field) {\n          $.each(dataGroup.Description.Fields, function (k2, dgField) {\n            if (dgField.Name == field.Name) {\n              $.each(dgField, function (key, value) {\n                if (!ctrl.$Utils.isEmpty(field[key])) field[key] = value;\n              });\n              ctrl.$Utils.deleteAutoValue(field);\n            }\n          });\n        });\n\n        if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1) {\n          $.each(dataGroup.Description.Fields, function (k, field) {\n            ctrl.$Utils.deleteAutoValue(field);\n            if (field.FormFieldType == \"Hidden\") module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null) module.Fields.push({\n              Name: field.DynamicText,\n              FieldStorageType: \"Dynamic\"\n            });\n          });\n        } else {\n          $.each(dataGroup.Description.Fields, function (field) {\n            ctrl.$Utils.deleteAutoValue(field);\n            if (field.ListIsHidden == \"true\") module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null) module.Fields.push({\n              Name: field.DynamicText,\n              FieldStorageType: \"Dynamic\"\n            });\n          });\n        }\n\n        module.ObjectFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.ObjectFields);\n        var iStartIndex = 0;\n        var iFieldCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (module.ObjectFields.length > iStartIndex) {\n            module[\"OF\" + i] = module.ObjectFields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.OFCount = iFieldCount;\n        delete module.ObjectFields;\n\n        iStartIndex = 0;\n        iFieldCount = 0;\n        module.Fields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.Fields);\n        for (var i = 1; i < 7; i++) {\n          if (module.Fields.length > iStartIndex) {\n            module[\"F\" + i] = module.Fields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.FCount = iFieldCount;\n        delete module.Fields;\n\n        module.Description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.Description);\n        request = ctrl.$Utils.updateParamsSingleRequest(request, module, request.TotalRequests);\n        request = ctrl.$Utils.updateParamsSingleRequest(request, { RequestTemplate: \"SettingNew.Update\" }, request.TotalRequests);\n      });\n      ctrl.$Utils.post(request).then(function (data) {\n        ctrl.updateDatagroup();\n      });\n    },\n    updateDatagroup: function updateDatagroup() {\n      var ctrl = this;\n      var request = ctrl.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 4;\n      request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R1_Code = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R2_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R2_ParentCode = \"xSetting.Project.Form\";\n      request.R2_Level = \"4\";\n      request.R2_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R3_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R3_ParentCode = \"xSetting.Project.List\";\n      request.R3_Level = \"4\";\n      request.R3_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R4_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R4_ParentCode = \"xSetting.Project.Filter\";\n      request.R4_Level = \"4\";\n      request.R4_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      ctrl.$Utils.post(request).then(function (data) {\n        ctrl.SettingFilter = ctrl.$Utils.getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\")[0];\n        if (ctrl.$Utils.isEmpty(ctrl.SettingFilter, \"Description\") && typeof ctrl.SettingFilter.Description === \"string\") ctrl.SettingFilter.Description = JSON.parse(ctrl.SettingFilter.Description);\n        ctrl.objFields = {};\n        ctrl.sortedFilter = [];\n        for (var i = 1; i <= ctrl.SettingFilter.Description.FCount; i++) {\n          if (i == 1) ctrl.FilterSettings = \"\";\n          ctrl.FilterSettings += ctrl.SettingFilter[\"F\" + i];\n          if (i == ctrl.SettingFilter.Description.FCount) {\n            ctrl.setFilterSetting = true;\n            ctrl.FilterSetting = JSON.parse(ctrl.FilterSettings);\n            ctrl.SettingFilter.Fields = ctrl.FilterSetting;\n          }\n        }\n        ctrl.viewModel.ListModules = ctrl.$Utils.getDataWithRoot(data.R2, \"Data.DynamicDS.Setting\");\n        ctrl.viewModel.ListModules = ctrl.viewModel.ListModules.concat(ctrl.$Utils.getDataWithRoot(data.R3, \"Data.DynamicDS.Setting\"));\n        ctrl.viewModel.ListModules = ctrl.viewModel.ListModules.concat(ctrl.$Utils.getDataWithRoot(data.R4, \"Data.DynamicDS.Setting\"));\n        $.each(ctrl.viewModel.ListModules, function (k, item) {\n          if (item.Description != undefined) {\n            item.Description = JSON.parse(item.Description);\n            item.ObjectFields = \"\";\n            for (var i = 1; i <= item.Description.OFCount; i++) {\n              if (item[\"OF\" + i] != undefined) item.ObjectFields += item[\"OF\" + i];\n            }\n            item.ObjectFields = JSON.parse(item.ObjectFields);\n          }\n        });\n        ctrl.DatagroupSource = ctrl.$Lodash.cloneDeep(ctrl.viewModel.ListModules);\n      });\n    },\n    loadGroupcategories: function loadGroupcategories() {\n      var grcate = this.grcategories;\n      $.each(grcate, function (k, value) {\n        if (value.Level) {\n          var childRank = value.Level;\n          grcate[k].Name = \"\";\n          while (childRank > 6) {\n            grcate[k].Name += \"|-- \";\n            childRank--;\n          }\n          grcate[k].Name += value.Name;\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.updateDatagroup();\n    this.loadGroups();\n    this.loadGroupcategories();\n    if (this.parent && this.parent.Value) {\n      this.Value = this.parent.Value.split(';').filter(function (item) {\n        return item.length > 0;\n      });\n    }\n  },\n\n  watch: {}\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 930:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"inline\":!_vm.parent,\"label-width\":\"130px\",\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"Tên nghiệp vụ\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên nghiệp vụ\"},model:{value:(_vm.formInline.Name),callback:function ($$v) {_vm.$set(_vm.formInline, \"Name\", $$v)},expression:\"formInline.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Nghiệp vụ cha\"}},[(_vm.parent)?_c('el-select',{attrs:{\"disabled\":_vm.formInline.isDisable,\"placeholder\":\"Chọn\"},model:{value:(_vm.ParentCategory),callback:function ($$v) {_vm.ParentCategory=$$v},expression:\"ParentCategory\"}},[_c('el-option',{attrs:{\"label\":_vm.parent.Name,\"value\":_vm.parent.Id}})],1):_c('el-cascader',{attrs:{\"options\":_vm.groupcategories,\"placeholder\":\"Chọn\",\"change-on-select\":\"\",\"clearable\":\"\"},on:{\"change\":function($event){_vm.setParent(_vm.formInline.ParentCategory)}},model:{value:(_vm.formInline.ParentCategory),callback:function ($$v) {_vm.$set(_vm.formInline, \"ParentCategory\", $$v)},expression:\"formInline.ParentCategory\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Thuộc phòng ban\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"clearable\":\"\",\"disabled\":_vm.formInline.isDisable,\"placeholder\":\"Chọn\"},model:{value:(_vm.Value),callback:function ($$v) {_vm.Value=$$v},expression:\"Value\"}},_vm._l((_vm.groups),function(item){return _c('el-option',{key:item.GroupId,attrs:{\"label\":item.GroupName,\"value\":item.GroupId}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Lưu\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 931:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.centerDialogVisible)?_c('el-dialog',{attrs:{\"title\":\"Thêm nghiệp vụ\",\"visible\":_vm.centerDialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event},\"close\":_vm.closeDialog}},[_c('span',[_c('CreateGroupCategoryForm',{attrs:{\"groupcategories\":_vm.categoriesTree,\"grcategories\":_vm.categories,\"rootId\":_vm.rootId,\"callback\":_vm.loadCategories,\"parent\":_vm.item}})],1)]):_vm._e(),_vm._v(\" \"),_c('CreateGroupCategoryForm',{attrs:{\"groupcategories\":_vm.categoriesTree,\"grcategories\":_vm.categories,\"rootId\":_vm.rootId,\"callback\":_vm.loadCategories}}),_vm._v(\" \"),_c('GroupCategoryTree',{attrs:{\"callback\":_vm.loadCategories}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 985:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(986);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(887)(\"1ecffdb3\", content, true);\n\n/***/ }),\n\n/***/ 986:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(886)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"SettingGroupAndProject.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 987:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_static_Groups_vue__ = __webpack_require__(285);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_static_GroupCategories_vue__ = __webpack_require__(916);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_static_Project_vue__ = __webpack_require__(988);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_static_DocumentCategories_vue__ = __webpack_require__(993);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: {\n    Groups: __WEBPACK_IMPORTED_MODULE_0__components_static_Groups_vue__[\"a\" /* default */], GroupCategories: __WEBPACK_IMPORTED_MODULE_1__components_static_GroupCategories_vue__[\"a\" /* default */], Project: __WEBPACK_IMPORTED_MODULE_2__components_static_Project_vue__[\"a\" /* default */], DocumentCategories: __WEBPACK_IMPORTED_MODULE_3__components_static_DocumentCategories_vue__[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      tabPosition: 'top',\n      activeName: 'Groups'\n    };\n  },\n\n  methods: {},\n  created: function created() {}\n});\n\n/***/ }),\n\n/***/ 988:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Project_vue__ = __webpack_require__(991);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_bd48db2c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Project_vue__ = __webpack_require__(992);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(989)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Project_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_bd48db2c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Project_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 989:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(990);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(887)(\"4ff1e59d\", content, true);\n\n/***/ }),\n\n/***/ 990:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(886)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".project-setting th div{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/crm_2/src/components/static/Project.vue\"],\"names\":[],\"mappings\":\"AACA,wBACE,iBAAmB,CACpB\",\"file\":\"Project.vue\",\"sourcesContent\":[\"\\n.project-setting th div {\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 991:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_static_EditProject__ = __webpack_require__(277);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: { EditProject: __WEBPACK_IMPORTED_MODULE_0__components_static_EditProject__[\"a\" /* default */] },\n  data: function data() {\n    return {\n      ListProject: [],\n      searchText: ''\n    };\n  },\n  created: function created() {\n    this.getProject();\n  },\n\n  methods: {\n    getProject: function getProject(filter) {\n      var _this = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"xDocument_Document.Search\";\n      request.R1_RequestDataGroup = \"DataGroup.quan-ly-du-an.053gf\";\n      request.R1_RequestFields = \"Id;Tool;TypeName;Name;ManagerName;StatusName;StateName;PermitName;Progress;DepartmentName;PlanManHour;ActualManHour;FinishDate;PriorityName;ProductName;StartDate;Version;Code;CreatedBy;Department;Id;Manager;ModifiedBy;Priority;PriorityDescription;PriorityId;State;Status;Type;Permit;Describe;Active;ActiveName;ProjectCode;Department;DepartmentName;Manager;ManagerName;Worker;WorkerName\";\n      request.R1_Code = \"Project\";\n      this.$Utils.postCheckResult(request).then(function (data) {\n        _this.ListProject = _this.$Utils.getDataWithRoot(data.R1, 'Data.DocumentDS.Document');\n        if (filter) {\n          _this.ListProject = _this.ListProject.filter(function (item) {\n            return item.Name.toLocaleLowerCase().indexOf(filter.toLowerCase()) > -1;\n          });\n        }\n      });\n    },\n    editProject: function editProject(data) {\n      var user = data;\n      var dataToPass = { user: user, search: this.getProject };\n      this.$hub.$emit(\"set-modal-data\", \"Sửa thông tin dự án\", \"70%\", true, \"center\", __WEBPACK_IMPORTED_MODULE_0__components_static_EditProject__[\"a\" /* default */], false, '', dataToPass);\n    },\n    removeProject: function removeProject(data) {\n      var _this2 = this;\n\n      this.$Utils.showConfirm('Cảnh báo', this.$toastMessage.oneWayAction + this.$toastMessage.deleteSettingWarning).then(function () {\n        var searchRequest = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 4,\n\n          R1_RequestTemplate: 'Setting.SearchBase',\n          R1_ParentCode: 'xSetting.Project.Parameter.Project.Category',\n          R1_Value: data,\n\n          R2_RequestTemplate: 'Setting.SearchBase',\n          R2_ParentCode: 'xSetting.Project.Parameter.Project.Target',\n          R2_Value: data,\n\n          R3_RequestTemplate: 'AG_Task_Task.Search',\n          R3_RequestDataGroup: \"DataGroup.danh-sach-cong-viec.04b66\",\n          R3_RequestFields: 'Id;Index;State',\n          R3_Project: data,\n\n          R4_RequestTemplate: 'xDocument_Document.Search',\n          R4_RequestDataGroup: 'DataGroup.quan-ly-version.0ad08',\n          R4_Code: 'Version',\n          R4_Project: data\n        };\n        _this2.$Utils.post(searchRequest).then(function (dataS) {\n          var requestDel = _this2.$Lodash.cloneDeep(_this2.$singleRequest);\n          requestDel.R1_RequestTemplate = \"xDocument_Document.Delete\";\n          requestDel.R1_Id = data;\n          requestDel.R1_Code = \"Project\";\n          requestDel.TotalRequests = 1;\n          var i = 1;\n\n          var listSetting = _this2.$Utils.getDataWithRoot(dataS.R1, 'Data.DynamicDS.Setting');\n          $.each(listSetting, function (key, value) {\n            if (value) {\n              i++;\n              requestDel.TotalRequests++;\n              requestDel[\"R\" + i + \"_RequestTemplate\"] = \"Setting.Delete\";\n              requestDel[\"R\" + i + \"_Id\"] = value.Id;\n            }\n          });\n\n          var listSettings = _this2.$Utils.getDataWithRoot(dataS.R2, 'Data.DynamicDS.Setting');\n          $.each(listSettings, function (key, value) {\n            if (value) {\n              i++;\n              requestDel.TotalRequests++;\n              requestDel[\"R\" + i + \"_RequestTemplate\"] = \"Setting.Delete\";\n              requestDel[\"R\" + i + \"_Id\"] = value.Id;\n            }\n          });\n\n          var listTask = _this2.$Utils.getDataWithRoot(dataS.R3, 'Data.TasksDS.Task');\n          $.each(listTask, function (key, value) {\n            if (value) {\n              i++;\n              requestDel.TotalRequests++;\n              requestDel[\"R\" + i + \"_RequestTemplate\"] = 'AG_Task_Task.Update';\n              requestDel[\"R\" + i + \"_RequestDataGroup\"] = \"DataGroup.danh-sach-cong-viec.04b66\";\n              requestDel[\"R\" + i + \"_Id\"] = value.Id;\n              requestDel[\"R\" + i + \"_State\"] = 1;\n              requestDel[\"R\" + i + \"_RequestFields\"] = 'Id;Index;State';\n            }\n          });\n          var listVersion = _this2.$Utils.getDataWithRoot(dataS.R4, 'Data.DocumentDS.Document');\n          $.each(listVersion, function (key, value) {\n            if (value) {\n              i++;\n              requestDel.TotalRequests++;\n              requestDel[\"R\" + i + \"_RequestTemplate\"] = 'xDocument_Document.Delete';\n              requestDel[\"R\" + i + \"_Code\"] = 'Version';\n              requestDel[\"R\" + i + \"_Id\"] = value.Id;\n            }\n          });\n\n          _this2.$Utils.postCheckResult(requestDel).then(function (data) {\n            if (data.success) {\n              _this2.$Utils.showMessage('success', _this2.$toastMessage.deleteItemPre + _this2.$toastMessage.deleteItemSuf);\n              _this2.getProject();\n            }\n          });\n        });\n      });\n    },\n    createProject: function createProject() {\n      var user = {};\n      var dataToPass = { user: user, search: this.getProject };\n      this.$hub.$emit(\"set-modal-data\", \"Thêm mới dự án\", \"70%\", true, \"center\", __WEBPACK_IMPORTED_MODULE_0__components_static_EditProject__[\"a\" /* default */], false, '', dataToPass);\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 992:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project-setting\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"fa fa-plus\"},on:{\"click\":function($event){_vm.createProject()}}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"Nhập tên dự án\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.getProject(_vm.searchText)}},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ListProject,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"Tên\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editProject(scope.row)}}},[_vm._v(_vm._s(scope.row.Name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Mô tả\",\"prop\":\"Describe\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Phòng ban\",\"prop\":\"DepartmentName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Hành động\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.removeProject(scope.row.Id)}}})]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 993:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DocumentCategories_vue__ = __webpack_require__(994);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_67b005d6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DocumentCategories_vue__ = __webpack_require__(1006);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DocumentCategories_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_67b005d6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DocumentCategories_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 994:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_dynamic_DocumentCategoryTree__ = __webpack_require__(995);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_static_CreateDocumentCategoryForm__ = __webpack_require__(1003);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_utils__ = __webpack_require__(7);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: { DocumentCategoryTree: __WEBPACK_IMPORTED_MODULE_0__components_dynamic_DocumentCategoryTree__[\"a\" /* default */], CreateDocumentCategoryForm: __WEBPACK_IMPORTED_MODULE_1__components_static_CreateDocumentCategoryForm__[\"a\" /* default */] },\n  data: function data() {\n    var validateName = function validateName(rule, value, callback) {\n      if (value === undefined || value.trim() === \"\") {\n        callback(new Error(\"Tên cần phải có\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      rootId: '',\n      level: 0,\n      categories: [],\n      treeData: {\n        Name: \"Danh mục nghiệp vụ\",\n        children: [],\n        level: \"0\",\n        Level: \"5\",\n        collapseIcon: \"fa fa-cog\",\n        expandIcon: \"fa fa-cog\"\n      },\n      formInline: {\n        Name: \"\",\n        ParentId: undefined,\n        Parent: []\n      },\n      rules: {\n        Name: [{ validator: validateName, trigger: \"blur\" }]\n      }\n    };\n  },\n\n\n  methods: {\n    handleChange: function handleChange(value) {\n      this.formInline.ParentId = value[value.length - 1];\n    },\n    checkExits: function checkExits() {\n      var _this = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchBase\";\n      request.R1_ParentId = __WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].isEmpty(this.formInline.ParentId) ? this.formInline.ParentId : this.rootId;\n      request.R1_Level = parseInt(this.level) + 1 + this.formInline.Parent.length;\n      __WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].post(request).then(function (data) {\n        var listExitsTags = __WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n\n        listExitsTags = listExitsTags.filter(function (el) {\n          return el.Name.trim().toLowerCase() === _this.formInline.Name.trim().toLowerCase();\n        });\n        if (listExitsTags.length > 0) {\n          __WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].showMessage(\"error\", \"Tên đã tồn tại\");\n          return false;\n        } else {\n          _this.save();\n        }\n      });\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var ctrl = this.formInline;\n      if (!__WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].isEmpty(ctrl.ParentId)) {\n        ctrl.ParentId = this.$Lodash.cloneDeep(this.rootId);\n      }\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Insert\";\n      request.R1_Name = ctrl.Name;\n      request.R1_ReferenceId = ctrl.ParentId;\n      request.R1_NestedSetType = \"InsertLastChildNode\";\n      __WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].postCheckResult(request).then(function (dData) {\n        __WEBPACK_IMPORTED_MODULE_2__services_utils__[\"a\" /* default */].linkToRoleEveryone([{\n          Id: dData.R1.Data,\n          Caption: ctrl.Name\n        }]);\n        _this2.formInline.Name = '';\n        _this2.formInline.Parent = [];\n        _this2.formInline.ParentId = undefined;\n        _this2.$hub.$emit(\"update-document-category-tree\", ctrl);\n        _this2.init();\n      });\n    },\n    onSubmit: function onSubmit(formName) {\n      var _this3 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this3.checkExits();\n        } else {\n          return false;\n        }\n      });\n    },\n    init: function init() {\n      var _this4 = this;\n\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"SettingNew.SearchSetting\",\n        R1_ParentCode: \"xSetting.Project.Parameter.Category\",\n        R1_IncludedNestedSetParent: true\n      };\n      this.$Utils.post(request).then(function (data) {\n        var category = [];\n        category = _this4.$Utils.getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n        var parent = category.shift();\n        _this4.rootId = parent.Id;\n        _this4.level = parent.Level;\n        _this4.categories = _this4.$Utils.createCustomTreeFromList(_this4.$Lodash.cloneDeep(category), \"Id\", \"ParentId\", \"children\", { Name: \"label\", Id: \"value\" }, {});\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this5 = this;\n\n    this.init();\n    this.$hub.$on(\"update-document-category-selecttree\", function () {\n      _this5.init();\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 995:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DocumentCategoryTree_vue__ = __webpack_require__(998);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_01abd379_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DocumentCategoryTree_vue__ = __webpack_require__(1002);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(996)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01abd379\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DocumentCategoryTree_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_01abd379_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DocumentCategoryTree_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(997);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(887)(\"70cf95c4\", content, true);\n\n/***/ }),\n\n/***/ 997:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(886)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".document-categories .card[data-v-01abd379]{margin-bottom:0}.document-categories .custom-tree-content[data-v-01abd379]{position:relative;top:2px;z-index:1}.document-categories .custom-tree-content.exitChild[data-v-01abd379]{margin-left:-7px}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/crm_2/src/components/dynamic/DocumentCategoryTree.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,eAAmB,CACpB,AACD,2DACE,kBAAmB,AACnB,QAAS,AACT,SAAW,CACZ,AACD,qEACI,gBAAkB,CACrB\",\"file\":\"DocumentCategoryTree.vue\",\"sourcesContent\":[\"\\n.document-categories .card[data-v-01abd379] {\\n  margin-bottom: 0px;\\n}\\n.document-categories .custom-tree-content[data-v-01abd379] {\\n  position: relative;\\n  top: 2px;\\n  z-index: 1;\\n}\\n.document-categories .custom-tree-content.exitChild[data-v-01abd379] {\\n    margin-left: -7px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 998:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_defineProperty__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_static_EditDocumentCategoryForm__ = __webpack_require__(999);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__ = __webpack_require__(43);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_defineProperty___default()({}, __WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__[\"a\" /* default */].name, __WEBPACK_IMPORTED_MODULE_3_vue_sortable_tree__[\"a\" /* default */]),\n  props: [\"datasource\", \"callback\"],\n  data: function data() {\n    return {\n      Name: \"\",\n      Parent: \"\",\n      ListData: [],\n      viewModel: {},\n      treeData: {\n        Name: \"Danh mục tài liệu\",\n        children: [],\n        level: \"0\",\n        Level: \"5\",\n        collapseIcon: \"fa fa-cog\",\n        expandIcon: \"fa fa-cog\"\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.init();\n    this.$hub.$on(\"update-document-category-tree\", function () {\n      _this.init();\n    });\n  },\n  destroyed: function destroyed() {\n    this.$hub.$off(\"update-document-category-tree\");\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    addSetting: function addSetting(item) {\n      this.$set(item, 'addNew', true);\n      this.$hub.$emit(\"set-modal-data\", \"Thêm mới danh mục\", \"30%\", true, \"center\", __WEBPACK_IMPORTED_MODULE_2__components_static_EditDocumentCategoryForm__[\"a\" /* default */], false, \"\", item);\n    },\n    init: function init() {\n      var _this2 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchSetting\";\n      request.R1_ParentCode = \"xSetting.Project.Parameter.Project.Category\";\n      request.R1_IncludedNestedSetParent = true;\n      this.$Utils.post(request).then(function (data) {\n        _this2.ListData = _this2.$Utils.getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n        if (_this2.$Utils.isEmpty(_this2.ListData, \"0\")) {\n          _this2.ParentId = _this2.$Lodash.cloneDeep(_this2.ListData[0].Id);\n          _this2.ListData.shift();\n          _this2.PageKey = _this2.ListData[0];\n          _this2.getSetting();\n        }\n      });\n    },\n    getSetting: function getSetting() {\n      var _this3 = this;\n\n      this.ListData = [];\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchSettingTree\";\n      request.R1_ParentCode = \"xSetting.Project.Parameter.Category\";\n      request.R2_RequestTemplate = \"Setting.SearchSetting\";\n      request.R2_ParentCode = \"xSetting.Project.Parameter.Category\";\n      request.TotalRequests = 2;\n      this.$Utils.postCheckResult(request).then(function (data) {\n        _this3.treeData.children = _this3.$Utils.getDataWithRoot(data.R1, \"Data\");\n        var SourceList = _this3.$Utils.getDataWithRoot(data.R2, \"Data.DynamicDS.Setting\");\n        if (_this3.$Utils.isEmpty(SourceList, \"0\")) {\n          var RootLevel = _this3.$Lodash.cloneDeep(SourceList[0].Level);\n        }\n        $.each(SourceList, function (key, value) {\n          var index = key - 1;\n          _this3.ListData.push(value);\n          var childRank = eval(value.Level - RootLevel);\n          _this3.ListData[key].text = \"\";\n          while (childRank > 0) {\n            _this3.ListData[key].text += \"|-- \";\n            childRank--;\n          }\n          _this3.ListData[key].text += value.Name;\n        });\n      });\n    },\n    consoleData: function consoleData(item) {},\n    changeState: function changeState(item) {\n      this.$set(item, \"$foldClose\", !item[\"$foldClose\"]);\n    },\n    changePosition: function changePosition(option) {\n      var _this4 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.MoveNode\";\n      request.R1_Id = option.data.Id;\n      if (option.afterParent.children && option.afterParent.children.length > 1) {\n        var index = 0;\n        $.each(option.afterParent.children, function (key, value) {\n          if (value.Id == option.data.Id && key > 0) {\n            index = key - 1;\n            request.R1_ReferenceId = option.afterParent.children[index].Id;\n            request.R1_NestedSetType = \"MoveToAfterAnother\";\n          } else if (value.Id == option.data.Id && key == 0) {\n            index = 1;\n            request.R1_ReferenceId = option.afterParent.children[index].Id;\n            request.R1_NestedSetType = \"MoveToBeforeAnother\";\n          }\n        });\n      } else {\n        request.R1_ReferenceId = option.afterParent.Id;\n        request.R1_NestedSetType = \"MoveToLastChildNode\";\n      }\n      this.$Utils.post(request).then(function (data) {\n        _this4.getAllLevel(option.afterParent.Level, option.data);\n        _this4.$hub.$emit(\"update-document-category-tree-form\");\n      });\n    },\n    editCategory: function editCategory(item) {\n      this.$hub.$emit(\"set-modal-data\", \"Sửa danh mục\", \"30%\", true, \"center\", __WEBPACK_IMPORTED_MODULE_2__components_static_EditDocumentCategoryForm__[\"a\" /* default */], false, \"\", item);\n    },\n    deleteSetting: function deleteSetting(data) {\n      var _this5 = this;\n\n      this.$confirm(\"Bạn có chăc chắn muốn xóa nghiệp vụ {0} này?\".replace(\"{0}\", data.Name), \"Cảnh báo\", {\n        confirmButtonText: \"Xóa\",\n        cancelButtonText: \"Bỏ qua\",\n        type: \"warning\"\n      }).then(function () {\n        if (_this5.$Utils.isEmpty(data)) {\n          var sourceTree = _this5.$Lodash.cloneDeep(_this5.ListData);\n          _this5.deleteItem(data, sourceTree);\n        }\n      }).catch(function () {});\n    },\n    deleteItem: function deleteItem(data, sourceTree) {\n      var ctrl = this;\n      var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Delete\";\n      request.R1_Id = data.Id;\n      ctrl.$Utils.postCheckResult(request).then(function (dData) {\n        var flag = true;\n        $.each(sourceTree, function (key, value) {\n          if (data.Id == value.ParentId) {\n            ctrl.deleteItem(value, sourceTree);\n            flag = false;\n          }\n        });\n        if (flag === true) {\n          ctrl.getSetting();\n          ctrl.$hub.$emit(\"update-document-category-selecttree\");\n        }\n      });\n    },\n    checkExits: function checkExits() {\n      var _this6 = this;\n\n      if (this.Parent && this.Parent != \"\") this.objParent = this.ListData.filter(function (el) {\n        return el.Id == _this6.Parent;\n      })[0];\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchSetting\";\n\n      request.R1_ParentCode = \"xSetting.Project.Parameter.Category\";\n      this.$Utils.post(request).then(function (data) {\n        var listExitsCate = _this6.$Utils.getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\");\n        listExitsCate = listExitsCate.filter(function (el) {\n          return el.Name == _this6.Name;\n        });\n        if (listExitsCate.length > 0) {} else {\n          _this6.insertSetting();\n        }\n      });\n    },\n    insertSetting: function insertSetting(data) {\n      var _this7 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Insert\";\n      request.R1_Name = this.Name;\n\n      request.R1_ValueName = this.data.Name;\n      request.R1_ReferenceId = this.$Utils.isEmpty(this.objParent) ? this.objParent.Id : this.ParentId;\n      request.R1_NestedSetType = \"InsertLastChildNode\";\n      this.$Utils.postCheckResult(request).then(function (dData) {\n        _this7.$Utils.linkToRoleEveryone([{\n          Id: dData.R1.Data,\n          Caption: _this7.Name\n        }]);\n        if (_this7.$Utils.isEmpty(_this7.objParent, \"Level\")) _this7.onSave(_this7.objParent.Level);else _this7.onSave(5);\n\n        _this7.Name = null;\n        _this7.objParent = null;\n        _this7.getSetting();\n      });\n    },\n    updateDatagroup: function updateDatagroup() {\n      var _this8 = this;\n\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 4;\n      request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R1_Code = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R2_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R2_ParentCode = \"xSetting.Project.Form\";\n      request.R2_Level = \"4\";\n      request.R2_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R3_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R3_ParentCode = \"xSetting.Project.List\";\n      request.R3_Level = \"4\";\n      request.R3_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R4_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R4_ParentCode = \"xSetting.Project.Filter\";\n      request.R4_Level = \"4\";\n      request.R4_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      this.$Utils.post(request).then(function (data) {\n        _this8.SettingFilter = _this8.$Utils.getDataWithRoot(data.R1, \"Data.DynamicDS.Setting\")[0];\n        if (_this8.$Utils.isEmpty(_this8.SettingFilter, \"Description\") && typeof _this8.SettingFilter.Description == \"string\") _this8.SettingFilter.Description = JSON.parse(_this8.SettingFilter.Description);\n        _this8.objFields = {};\n        _this8.sortedFilter = [];\n        for (var i = 1; i <= _this8.SettingFilter.Description.FCount; i++) {\n          if (i == 1) _this8.FilterSettings = \"\";\n          _this8.FilterSettings += _this8.SettingFilter[\"F\" + i];\n          if (i == _this8.SettingFilter.Description.FCount) {\n            _this8.setFilterSetting = true;\n            _this8.FilterSetting = JSON.parse(_this8.FilterSettings);\n            _this8.SettingFilter.Fields = _this8.FilterSetting;\n          }\n        }\n        _this8.viewModel.ListModules = _this8.$Utils.getDataWithRoot(data.R2, \"Data.DynamicDS.Setting\");\n        _this8.viewModel.ListModules = _this8.viewModel.ListModules.concat(_this8.$Utils.getDataWithRoot(data.R3, \"Data.DynamicDS.Setting\"));\n        _this8.viewModel.ListModules = _this8.viewModel.ListModules.concat(_this8.$Utils.getDataWithRoot(data.R4, \"Data.DynamicDS.Setting\"));\n        _this8.viewModel.ListModules.forEach(function (item) {\n          if (item.Description != undefined) {\n            item.Description = JSON.parse(item.Description);\n            item.ObjectFields = \"\";\n            for (var i = 1; i <= 7; i++) {\n              if (item[\"OF\" + i] != undefined) item.ObjectFields += item[\"OF\" + i];\n            }\n            item.ObjectFields = JSON.parse(item.ObjectFields);\n          }\n        });\n        _this8.DatagroupSource = _this8.$Lodash.cloneDeep(_this8.viewModel.ListModules);\n      });\n    },\n    onSave: function onSave(level, status) {\n      var _this9 = this;\n\n      var strFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);\n      level = level - 4;\n      if (strFields.indexOf(\"CategoriesLevel\" + level) == -1) {\n        var obj = {\n          Caption: \"Danh mục phòng ban cấp \" + level,\n          DataSource: \"xDynamicData_Setting\",\n          FieldColumnType: \"String\",\n          FieldStorageType: \"Struct\",\n          FilterIsUsed: \"true\",\n          FormDisplay: \"- Danh mục phòng ban cấp \" + level + \" -\",\n          FormFieldType: \"Hidden\",\n          FormIncludeSubmit: \"true\",\n          FormValidate: \"\",\n          ListButtonGroups: \"\",\n          ListIsHidden: \"true\",\n          Name: \"CategoriesLevel\" + level,\n          PlaceHolder: \"- Danh mục phòng ban \" + level + \" -\",\n          ReportIsUsed: \"true\"\n        };\n        this.SettingFilter.Fields.push(obj);\n        strFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);\n        var arrValue = JSON.parse(this.SettingFilter.Value);\n        var objValue = {\n          Name: \"CategoriesLevel\" + level,\n          ColumnType: \"String\",\n          StorageType: \"Struct\"\n        };\n        arrValue.push(objValue);\n        this.SettingFilter.Value = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(arrValue);\n        this.sourceFields = this.$Lodash.cloneDeep(this.SettingFilter.Fields);\n        delete this.SettingFilter.Fields;\n        var iStartIndex = 0;\n        this.SettingFilter.Description.FCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (strFields.length > iStartIndex) {\n            this.SettingFilter[\"F\" + i] = strFields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            this.SettingFilter.Description.FCount = i;\n          }\n        }\n        this.SettingFilter.Description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Description);\n        if (!this.$Utils.isEmpty(status) || status == false) {\n          var requestData = this.$Lodash.cloneDeep(this.$singleRequest);\n          this.$Utils.updateParamsSingleRequest(requestData, this.$Lodash.cloneDeep(this.SettingFilter));\n          requestData.R1_RequestTemplate = \"SettingNew.Update\";\n          this.$Utils.post(requestData).then(function (requestData) {\n            _this9.saveModules();\n          });\n        }\n      }\n    },\n    saveModules: function saveModules() {\n      var _this10 = this;\n\n      var dataGroup = this.$Lodash.cloneDeep(this.SettingFilter);\n      dataGroup.Description = JSON.parse(dataGroup.Description);\n      dataGroup.Description.Fields = this.$Lodash.cloneDeep(this.sourceFields);\n      var arrModules = this.$Lodash.cloneDeep(this.viewModel.ListModules);\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 0;\n      arrModules.forEach(function (module) {\n        request.TotalRequests++;\n\n        module.ModuleType = module.Value;\n        module.Description.DataGroupCaption = dataGroup.Caption;\n        module.Description.RootData = dataGroup.Description.RootData;\n        module.Description.DataSource = dataGroup.Description.DataSource;\n        module.Description.AdditionConditions = dataGroup.Description.AdditionConditions;\n        if ([\"Form\", \"Filter\", \"List\"].indexOf(module.Description.ModuleType) != -1) module.Description.Link = dataGroup.Description.Link;\n\n        if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1) module.Description.Dependencies = dataGroup.Description.Dependencies;\n        var refFields = _this10.$Lodash.cloneDeep(module.ObjectFields);\n        var arrDefaultFields = [\"Multicheck\", \"IndexDefault\", \"Tool\"];\n        refFields.forEach(function (field) {\n          var isExist = false;\n          for (var i = 0; i < dataGroup.Description.Fields.length; i++) {\n            var dgField = dataGroup.Description.Fields[i];\n            if (field.Name == dgField.Name) {\n              isExist = true;\n              break;\n            }\n          }\n          if ([\"List\"].indexOf(module.Description.ModuleType) != -1) {\n            if (arrDefaultFields.indexOf(field.Name) != -1) isExist = true;\n            if (field.ManualCalculator == \"true\") isExist = true;\n          }\n          if (!isExist) {\n            $.each(module.ObjectFields, function (index, sourceField) {\n              if (field.Name == sourceField.Name) module.ObjectFields.splice(index, 1);\n            });\n            if (module.Description.Groups != undefined) {\n              module.Description.Groups.forEach(function (group) {\n                if (group.ListFields != undefined) if (group.ListFields.indexOf(field.Name) != -1) group.ListFields = group.ListFields.replace(field.Name + \";\", \"\");\n              });\n            }\n          }\n        });\n        if (_this10.$Utils.isEmpty(module.Description, \"Buttons\")) {\n          var refButtons = _this10.$Lodash.cloneDeep(module.Description.Buttons);\n          refButtons.forEach(function (button) {\n            var isExist = false;\n            for (var i = 0; i < dataGroup.Description.Buttons.length; i++) {\n              var dgButton = dataGroup.Description.Buttons[i];\n              if (dgButton.Code == button.Code) isExist = true;\n            }\n            if (!isExist) {\n              $.each(module.Description.Buttons, function (index, sourceButton) {\n                if (button.Code == sourceButton.Code) module.Description.Buttons.splice(index, 1);\n              });\n            }\n          });\n\n          module.Description.Buttons.forEach(function (moduleButton) {\n            module.Description.Buttons.forEach(function (dgButton) {\n              if (dgButton.Code == moduleButton.Code) moduleButton = dgButton;\n            });\n          });\n        }\n\n        if ([\"Form\", \"List\"].indexOf(module.Description.ModuleType) != -1) {\n          for (var i = 0; i < module.Description.Buttons.length; i++) {\n            dataGroup.Description.Buttons.forEach(function (dgButton) {\n              if (module.Description.Buttons[i].Code == dgButton.Code) module.Description.Buttons[i] = dgButton;\n            });\n          }\n        }\n\n        module.Fields = _this10.$Lodash.cloneDeep(module.ObjectFields);\n        module.Fields.forEach(function (field) {\n          dataGroup.Description.Fields.forEach(function (dgField) {\n            if (dgField.Name == field.Name) {\n              $.each(dgField, function (key, value) {\n                if (!_this10.$Utils.isEmpty(field[key])) field[key] = value;\n              });\n              _this10.$Utils.deleteAutoValue(field);\n            }\n          });\n        });\n\n        if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1) {\n          dataGroup.Description.Fields.forEach(function (field) {\n            _this10.$Utils.deleteAutoValue(field);\n            if (field.FormFieldType == \"Hidden\") module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null) module.Fields.push({\n              Name: field.DynamicText,\n              FieldStorageType: \"Dynamic\"\n            });\n          });\n        } else {\n          dataGroup.Description.Fields.forEach(function (field) {\n            _this10.$Utils.deleteAutoValue(field);\n            if (field.ListIsHidden == \"true\") module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null) module.Fields.push({\n              Name: field.DynamicText,\n              FieldStorageType: \"Dynamic\"\n            });\n          });\n        }\n\n        module.ObjectFields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.ObjectFields);\n        var iStartIndex = 0;\n        var iFieldCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (module.ObjectFields.length > iStartIndex) {\n            module[\"OF\" + i] = module.ObjectFields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.OFCount = iFieldCount;\n        delete module.ObjectFields;\n\n        iStartIndex = 0;\n        iFieldCount = 0;\n        module.Fields = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.Fields);\n        for (var i = 1; i < 7; i++) {\n          if (module.Fields.length > iStartIndex) {\n            module[\"F\" + i] = module.Fields.substring(iStartIndex, iStartIndex + 9999);\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.FCount = iFieldCount;\n        delete module.Fields;\n\n        module.Description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(module.Description);\n        request = _this10.$Utils.updateParamsSingleRequest(request, module, request.TotalRequests);\n        request = _this10.$Utils.updateParamsSingleRequest(request, { RequestTemplate: \"SettingNew.Update\" }, request.TotalRequests);\n      });\n      this.$Utils.post(request).then(function (data) {\n        _this10.updateDatagroup();\n      });\n    },\n    getAllLevel: function getAllLevel(parent, data) {\n      this.onSave(eval(parent) + 1);\n      if (this.$Utils.isEmpty(data.children)) {\n        this.getAllLevel(eval(parent) + 1, data.children);\n      }\n    },\n    checkParent: function checkParent(selectedItem) {\n      var _this11 = this;\n\n      if (this.$Utils.isEmpty(selectedItem, \"$parent\")) {\n        var parent = this.$Lodash.cloneDeep(selectedItem.$parent);\n        delete selectedItem.$parent;\n        this.inputData.unshift(parent);\n        this.checkParent(selectedItem.$parent);\n      } else {\n        var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n        taskRequest.TotalRequests = 0;\n        $.each(this.ListTask, function (index, task) {\n          if (_this11.$Utils.isEmpty(task, \"CategoriesName\") && task.Categories != \"\") {\n            var flag = false;\n            var newCategory = _this11.$Lodash.cloneDeep(_this11.inputData);\n            var catName = _this11.$Utils.isEmpty(task, \"CategoriesName\") ? task.CategoriesName.split(\";\") : [];\n            $.each(task.Categories.split(\";\"), function (key, category) {\n              if (category != \"\") {\n                if (flag == true) {\n                  var cat = {};\n                  cat.Id = category;\n                  cat.Name = catName[key];\n                  newCategory.push(cat);\n                }\n                if (category == _this11.inputData[_this11.inputData.length - 1].Id) {\n                  flag = true;\n                }\n              }\n            });\n            if (flag == true) {\n              taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_RequestTemplate\"] = \"AG_Task_Task.Update\";\n              taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_RequestDataGroup\"] = \"DataGroup.danh-sach-cong-viec.04b66\";\n              taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_RequestFields\"] = \"Id;Index;Categories;Code;\";\n              taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_Categories\"] = \"\";\n              taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_CategoriesName\"] = \"\";\n              taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_Id\"] = task.Id;\n              $.each(newCategory, function (val, key) {\n                taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_Categories\"] += val.Id + \";\";\n                taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_CategoriesName\"] += val.Name + \";\";\n                taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_CategoriesLevel\" + [key + 1]] = val.Id;\n                taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_RequestFields\"] += \"CategoriesLevel\" + [key + 1] + \";\";\n              });\n              taskRequest.TotalRequests++;\n            }\n          }\n        });\n        this.$Utils.post(taskRequest);\n      }\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 999:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditDocumentCategoryForm_vue__ = __webpack_require__(1000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b66c3c6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditDocumentCategoryForm_vue__ = __webpack_require__(1001);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditDocumentCategoryForm_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b66c3c6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditDocumentCategoryForm_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.768f8f70a1b34d4cdc35.js","\n<template>\n  <el-form :inline=\"true\" :rules=\"rules\" ref=\"validateForm\" :model=\"model\" label-width=\"120px\">\n    <el-form-item label=\"Tên danh mục\" prop=\"Name\">\n      <el-input v-model=\"model.Name\" placeholder=\"Tên danh mục\"/>\n    </el-form-item>\n    <el-form-item label=\"Danh mục cha\" v-if=\"data.addNew\">\n      <el-input v-model=\"model.ParentName\" placeholder=\"Danh mục cha\" disabled/>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"onSubmit('validateForm')\">Lưu</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n<script>\nimport utilsLibrary from \"@/services/utils\";\nexport default {\n  props: [\"data\"],\n  data() {\n    var validateName = (rule, value, callback) => {\n      if (value === \"\" || value.trim() === \"\") {\n        callback(new Error(\"Tên cần phải có\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      rules: {\n        Name: [{ validator: validateName, trigger: \"blur\" }]\n      },\n      model: {\n        Id: this.data.Id,\n        Name: this.data.Name,\n        oldName: this.data.Name\n      }\n    };\n  },\n  components: {\n    //SelectCheck,SelectTree\n  },\n  created(){\n    if(this.data.addNew){\n      this.model = {\n        Name: '',\n        ParentName: this.data.Name\n      }\n    }\n  },\n  methods: {\n    checkExits() {\n      var ctrl = this;\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      if (utilsLibrary.isEmpty(ctrl.model.oldName) && ctrl.model.oldName.trim() !== ctrl.model.Name.trim()) {\n        request.R1_RequestTemplate = \"Setting.SearchBase\";\n        request.R1_ParentId = this.data.ParentId;\n        request.R1_Level = parseInt(this.data.Level);\n        utilsLibrary.post(request).then(data => {\n          var listExitsTags = utilsLibrary.getDataWithRoot(\n            data.R1,\n            \"Data.DynamicDS.Setting\"\n          );\n          listExitsTags = listExitsTags.filter(el => {\n            return (\n              el.Id !== this.data.Id &&\n              el.Name.trim().toLowerCase() ===\n                ctrl.model.Name.trim().toLowerCase()\n            );\n          });\n          if (listExitsTags.length > 0) {\n            utilsLibrary.showMessage(\"error\", \"Tên đã tồn tại\");\n            return false;\n          } else {\n            //return true;\n            this.save();\n          }\n        });\n      }\n      if(this.data.addNew) {\n        request.R1_RequestTemplate = \"Setting.SearchBase\";\n        request.R1_ParentId = 'a54d39ff-71be-4fe7-8130-a9fc9c447f1c';\n        request.R1_Level = parseInt(this.data.Level) + 1;\n        utilsLibrary.post(request).then(data => {\n          var listExitsTags = utilsLibrary.getDataWithRoot(\n            data.R1,\n            \"Data.DynamicDS.Setting\"\n          );\n          listExitsTags = listExitsTags.filter(el => {\n            return (\n              el.Name.trim().toLowerCase() ===\n              ctrl.model.Name.trim().toLowerCase()\n            );\n          });\n          if (listExitsTags.length > 0) {\n            utilsLibrary.showMessage(\"error\", \"Tên đã tồn tại\");\n            return false;\n          } else {\n            //return true;\n            this.save();\n          }\n        });\n      }\n    },\n\n    save() {\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Update\";\n      if (this.model.Id === undefined || this.model.Id === \"\") {\n        request.R1_ReferenceId = this.data.level === '0' ? 'a54d39ff-71be-4fe7-8130-a9fc9c447f1c' : this.data.Id;\n        request.R1_RequestTemplate = \"Setting.Insert\";\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        request.R1_Name = this.model.Name;\n      }else{\n        request = utilsLibrary.updateParamsSingleRequest(request, this.model);\n      }\n      utilsLibrary.post(request).then(data => {\n        if (data.success) {\n          utilsLibrary.showMessage(\n            \"success\",\n            this.$toastMessage.updateItemPre + this.$toastMessage.updateItemSuf\n          );\n          if (request.R1_RequestTemplate === \"Setting.Insert\") {\n            utilsLibrary.linkToRoleEveryone([\n              {\n                Id: data.R1.Data,\n                Caption: this.model.Name\n              }\n            ]);\n          }\n          this.$hub.$emit(\"update-document-category-tree\");\n          this.$hub.$emit(\"update-document-category-selecttree\");\n          this.$hub.$emit(\"close-modal\");\n        } else\n          utilsLibrary.showMessage(\"error\", this.$toastMessage.updateItemFailed);\n      });\n    },\n    onSubmit(formName) {\n      this.$refs[formName].validate(valid => {\n        //console.log(valid);\n        if (valid) {\n          this.checkExits();\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/EditDocumentCategoryForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"validateForm\",attrs:{\"inline\":true,\"rules\":_vm.rules,\"model\":_vm.model,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Tên danh mục\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên danh mục\"},model:{value:(_vm.model.Name),callback:function ($$v) {_vm.$set(_vm.model, \"Name\", $$v)},expression:\"model.Name\"}})],1),_vm._v(\" \"),(_vm.data.addNew)?_c('el-form-item',{attrs:{\"label\":\"Danh mục cha\"}},[_c('el-input',{attrs:{\"placeholder\":\"Danh mục cha\",\"disabled\":\"\"},model:{value:(_vm.model.ParentName),callback:function ($$v) {_vm.$set(_vm.model, \"ParentName\", $$v)},expression:\"model.ParentName\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('validateForm')}}},[_vm._v(\"Lưu\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b66c3c6\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/EditDocumentCategoryForm.vue\n// module id = 1001\n// module chunks = 0 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"document-categories\"},[_c('b-card',[_c('sortable-tree',{attrs:{\"data\":_vm.treeData,\"mixinParentKey\":\"$parent\",\"dragEnable\":true,\"closeStateKey\":\"$foldClose\"},on:{\"changePosition\":_vm.changePosition},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"custom-tree-content\",class:{'exitChild': item.children && item.children.length}},[(item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▶\")]):(!item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▼\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"mr-3\",on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(_vm._s(item.Name))]),_vm._v(\" \"),_c('span',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.addSetting(item)}}},[_c('i',{staticClass:\"fa fa-plus\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),(item.level!='0')?_c('span',[_vm._v(\"\\n               | \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editCategory(item)}}},[_c('i',{staticClass:\"fa fa-pencil-square-o\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" |\\n              \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.deleteSetting(item)}}},[_c('i',{staticClass:\"fa fa-trash\",attrs:{\"aria-hidden\":\"true\"}})])]):_vm._e()])])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01abd379\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dynamic/DocumentCategoryTree.vue\n// module id = 1002\n// module chunks = 0 1","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CreateDocumentCategoryForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02e362f8\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CreateDocumentCategoryForm.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/CreateDocumentCategoryForm.vue\n// module id = 1003\n// module chunks = 0 1","\n<template>\n  <el-form :inline=\"!$isMobileDevice\" :rules=\"rules\" label-width=\"130px\" ref=\"validateForm\" :model=\"formInline\">\n  <el-form-item label=\"Tên danh mục\" prop=\"Name\">\n    <el-input v-model=\"formInline.Name\" placeholder=\"Tên danh mục\" ></el-input>\n  </el-form-item>\n   <el-form-item label=\"Danh mục cha\">\n     <el-cascader :options=\"groupcategories\" placeholder=\"Chọn\" change-on-select clearable v-model=\"formInline.Parent\" @change=\"handleChange\"></el-cascader>\n  </el-form-item>\n  <el-form-item>\n    <el-button type=\"primary\"  @click=\"onSubmit('validateForm')\">Lưu</el-button>\n  </el-form-item>\n</el-form>\n</template>\n\n<script>\nimport utilsLibrary from \"@/services/utils\";\nexport default {\n  props: [\"groupcategories\", \"rootId\", \"Level\", \"callback\", \"grcategories\"],\n  data() {\n    var validateName = (rule, value, callback) => {\n      if (value === undefined || value.trim() === \"\") {\n        callback(new Error(\"Tên cần phải có\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      formInline: {\n        Name: \"\",\n        ParentId: undefined,\n        Parent: []\n      },\n      rules: {\n        Name: [{ validator: validateName, trigger: \"blur\" }]\n      }\n    };\n  },\n  components: {},\n  methods: {\n    handleChange(value) {\n      this.formInline.ParentId = value[value.length - 1];\n    },\n    checkExits() {\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchBase\";\n      request.R1_ParentId = utilsLibrary.isEmpty(this.formInline.ParentId)\n        ? this.formInline.ParentId\n        : this.rootId;\n      request.R1_Level =\n        parseInt(this.Level) + 1 + this.formInline.Parent.length;\n      utilsLibrary.post(request).then(data => {\n        var listExitsTags = utilsLibrary.getDataWithRoot(\n          data.R1,\n          \"Data.DynamicDS.Setting\"\n        );\n        //console.log(listExitsTags);\n        listExitsTags = listExitsTags.filter(el => {\n          return (\n            el.Name.trim().toLowerCase() ==\n            this.formInline.Name.trim().toLowerCase()\n          );\n        });\n        if (listExitsTags.length > 0) {\n          utilsLibrary.showMessage(\"error\", \"Tên đã tồn tại\");\n          return false;\n        } else {\n          //return true;\n          this.save();\n        }\n      });\n    },\n\n    save() {\n      var ctrl = this.formInline;\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Insert\";\n      request.R1_Name = ctrl.Name;\n      request.R1_ReferenceId = utilsLibrary.isEmpty(ctrl.ParentId)\n        ? ctrl.ParentId\n        : this.rootId;\n      request.R1_NestedSetType = \"InsertLastChildNode\";\n      utilsLibrary.postCheckResult(request).then(dData => {\n        utilsLibrary.linkToRoleEveryone([\n          {\n            Id: dData.R1.Data,\n            Caption: ctrl.Name\n          }\n        ]);\n        this.formInline.Name = '';\n        this.formInline.Parent = [];\n        this.formInline.ParentId = undefined;\n        this.$hub.$emit(\"update-document-category-tree\");\n      });\n    },\n    onSubmit(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.checkExits();\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/CreateDocumentCategoryForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"validateForm\",attrs:{\"inline\":!_vm.$isMobileDevice,\"rules\":_vm.rules,\"label-width\":\"130px\",\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"Tên danh mục\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên danh mục\"},model:{value:(_vm.formInline.Name),callback:function ($$v) {_vm.$set(_vm.formInline, \"Name\", $$v)},expression:\"formInline.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Danh mục cha\"}},[_c('el-cascader',{attrs:{\"options\":_vm.groupcategories,\"placeholder\":\"Chọn\",\"change-on-select\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formInline.Parent),callback:function ($$v) {_vm.$set(_vm.formInline, \"Parent\", $$v)},expression:\"formInline.Parent\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('validateForm')}}},[_vm._v(\"Lưu\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02e362f8\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/CreateDocumentCategoryForm.vue\n// module id = 1005\n// module chunks = 0 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"validateForm\",attrs:{\"inline\":!_vm.$isMobileDevice,\"rules\":_vm.rules,\"label-width\":\"130px\",\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"Tên danh mục\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên danh mục\"},model:{value:(_vm.formInline.Name),callback:function ($$v) {_vm.$set(_vm.formInline, \"Name\", $$v)},expression:\"formInline.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Danh mục cha\"}},[_c('el-cascader',{attrs:{\"options\":_vm.categories,\"placeholder\":\"Chọn\",\"change-on-select\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formInline.Parent),callback:function ($$v) {_vm.$set(_vm.formInline, \"Parent\", $$v)},expression:\"formInline.Parent\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('validateForm')}}},[_vm._v(\"Lưu\")])],1)],1),_vm._v(\" \"),_c('DocumentCategoryTree',{attrs:{\"datasource\":_vm.treeData}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67b005d6\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/DocumentCategories.vue\n// module id = 1006\n// module chunks = 0 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{attrs:{\"tab-position\":_vm.tabPosition},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"Phòng ban\",\"name\":\"Groups\"}},[(_vm.activeName=='Groups')?_c('Groups'):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Dự án\",\"name\":\"Project\"}},[(_vm.activeName=='Project')?_c('Project'):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Nghiệp vụ\",\"name\":\"GroupCategories\"}},[(_vm.activeName=='GroupCategories')?_c('GroupCategories'):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Danh mục tài liệu\",\"name\":\"DocumentCategories\"}},[(_vm.activeName=='DocumentCategories')?_c('DocumentCategories'):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4187a870\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/SettingGroupAndProject.vue\n// module id = 1007\n// module chunks = 0 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4187a870\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SettingGroupAndProject.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SettingGroupAndProject.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4187a870\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SettingGroupAndProject.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4187a870\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/SettingGroupAndProject.vue\n// module id = 894\n// module chunks = 0 1","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GroupCategories.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32c6034c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GroupCategories.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/GroupCategories.vue\n// module id = 916\n// module chunks = 0 1 4","<template>\n  <div>\n    <el-dialog title=\"Thêm nghiệp vụ\" v-if=\"centerDialogVisible\" :visible.sync=\"centerDialogVisible\" width=\"30%\" center @close=\"closeDialog\">\n        <span>\n           <CreateGroupCategoryForm :groupcategories=\"categoriesTree\" :grcategories=\"categories\" :rootId=\"rootId\"\n                                    :callback=\"loadCategories\" :parent=\"item\"/>\n        </span>\n    </el-dialog>\n    <CreateGroupCategoryForm :groupcategories=\"categoriesTree\" :grcategories=\"categories\" :rootId=\"rootId\"\n                             :callback=\"loadCategories\"/>\n    <GroupCategoryTree :callback=\"loadCategories\"/>\n  </div>\n</template>\n<script>\nimport GroupCategoryTree from \"@/components/dynamic/GroupCategoryTree\";\nimport CreateGroupCategoryForm from \"@/components/static/CreateGroupCategoryForm\";\n\nexport default {\n  components: { GroupCategoryTree, CreateGroupCategoryForm },\n  data() {\n    return {\n      categories: [],\n      categoriesTree: [],\n      rootId: '',\n      centerDialogVisible:false,\n      item: {},\n      treeData: {\n          Name: 'Danh mục nghiệp vụ',\n          children: [],\n          level: '0',\n          Level: '5',\n          collapseIcon:'fa fa-cog',\n          expandIcon: 'fa fa-cog'\n        }\n    };\n  },\n\n  methods: {\n    delete(dataToPass) {},\n    loadCategories() {\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"SettingNew.SearchSetting\",\n        R1_ParentCode: \"xSetting.Project.Parameter.Organization.Category\",\n        R1_IncludedNestedSetParent : true\n      };\n       this.$Utils.post(request).then(response => {\n\n               var category = [];\n                category = this.$Utils.getDataWithRoot(\n                  response.R1,\n                  \"Data.DynamicDS.Setting\"\n                );\n              this.categories =category ; // = this.$Utils.createCustomTreeFromList(category, 'Id', 'ParentId', 'children', {Name: 'label', Id: 'value'}, {});\n              this.rootId = this.$Lodash.cloneDeep(this.categories[0].Id);\n              this.categories.shift();\n            });\n\n    },\n    closeDialog(){\n      this.item= {}\n    }\n  },\n  destroyed(){\n   this.$hub.$off('update-category-tree');\n   this.$hub.$off('update-category-tree-form');\n   this.$hub.$off('addNewCat');\n  },\n  created() {\n  },\n  mounted() {\n    this.loadCategories();\n\n   this.$hub.$on('update-category-tree',()=>{\n    this.loadCategories()\n     this.centerDialogVisible = false;\n    } );\n\n    this.$hub.$on('addNewCat',(item)=>{\n      this.item = item;\n      this.centerDialogVisible = true;\n    } );\n\n    this.$hub.$on('update-category-tree-form',()=>{\n    this.loadCategories()\n    } );\n  },\n  watch: {\n    categories: function(newCat){\n      this.categoriesTree = this.$Utils.createCustomTreeFromList(\n      this.$Lodash.cloneDeep(newCat),\n      \"Id\",\n      \"ParentId\",\n      \"children\",\n      { Name: \"label\", Id: \"value\" },\n      {}\n      );\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/GroupCategories.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ae61956e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GroupCategoryTree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GroupCategoryTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ae61956e\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GroupCategoryTree.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ae61956e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dynamic/GroupCategoryTree.vue\n// module id = 918\n// module chunks = 0 1 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ae61956e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./GroupCategoryTree.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"52cdb6f5\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ae61956e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/dynamic/GroupCategoryTree.vue\n// module id = 919\n// module chunks = 0 1 4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".group-categories .card[data-v-ae61956e]{margin-bottom:0}.group-categories .custom-tree-content[data-v-ae61956e]{position:relative;top:2px;z-index:1}.group-categories .custom-tree-content.exitChild[data-v-ae61956e]{margin-left:-7px}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/crm_2/src/components/dynamic/GroupCategoryTree.vue\"],\"names\":[],\"mappings\":\"AACA,yCACE,eAAmB,CACpB,AACD,wDACE,kBAAmB,AACnB,QAAS,AACT,SAAW,CACZ,AACD,kEACI,gBAAkB,CACrB\",\"file\":\"GroupCategoryTree.vue\",\"sourcesContent\":[\"\\n.group-categories .card[data-v-ae61956e] {\\n  margin-bottom: 0px;\\n}\\n.group-categories .custom-tree-content[data-v-ae61956e] {\\n  position: relative;\\n  top: 2px;\\n  z-index: 1;\\n}\\n.group-categories .custom-tree-content.exitChild[data-v-ae61956e] {\\n    margin-left: -7px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ae61956e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/dynamic/GroupCategoryTree.vue\n// module id = 920\n// module chunks = 0 1 4","<template>\n  <div class=\"group-categories\">\n    <b-card>\n    <sortable-tree :data=\"treeData\" mixinParentKey=\"$parent\" @changePosition=\"changePosition\" :dragEnable=\"true\" closeStateKey=\"$foldClose\">\n        <template slot-scope=\"{item}\">\n          <div class=\"custom-tree-content\" :class=\"{'exitChild': item.children && item.children.length}\">\n            <span v-if=\"item['$foldClose'] && item.children && item.children.length\" @click=\"changeState(item)\">▶</span>\n            <span v-else-if=\"!item['$foldClose'] && item.children && item.children.length\" @click=\"changeState(item)\">▼</span>\n            <a v-if=\"item.level!='0'\" href=\"javascript:void(0)\" @click=\"editCategory(item, false)\">{{item.Name}}</a>\n            <span v-else>{{item.Name}}</span>\n            <span>\n              <a href=\"javascript:void(0)\" @click=\"editCategory(item, true)\">\n                <i class=\"fa fa-plus\"></i>\n              </a>\n              <a v-if=\"item.level!='0'\" href=\"javascript:void(0)\" @click=\"deleteSetting(item)\">\n                |<i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\n              </a>\n            </span>\n          </div>\n        </template>\n      </sortable-tree>\n</b-card>\n  </div>\n</template>\n\n<script>\n import EditCategory from '@/components/static/EditGroupCategory'\n import Vue from 'vue'\n import SortableTree from 'vue-sortable-tree'\n Vue.component(SortableTree.name, SortableTree);\n\n  export default {\n    props: ['rootId','callback'],\n    data() {\n      return {\n        Name: '',\n        Parent: '',\n        ListData: [],\n         viewModel: {},\n         treeData: {\n            Name: 'Danh mục nghiệp vụ',\n            children: [],\n            level: '0',\n            Level: '5',\n             collapseIcon:'fa fa-cog',\n          expandIcon: 'fa fa-cog'\n        }\n      }\n    },\n    created(){\n     this.updateDatagroup();\n     this.init();\n       this.$hub.$on('update-category-tree',()=>{\n          this.updateDatagroup();\n          this.init();\n       })\n    },\n    destroyed(){\n      this.$hub.$off('update-category-tree');\n    },\n    mounted(){\n\n    },\n    methods: {\n      init(){\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = 'Setting.SearchSetting';\n      request.R1_ParentCode = 'xSetting.Project.Parameter.Organization.Category';\n      request.R1_IncludedNestedSetParent = true;\n      this.$Utils.post(request).then((data) => {\n        this.ListData = this.$Utils.getDataWithRoot(data.R1, 'Data.DynamicDS.Setting');\n        if (this.$Utils.isEmpty(this.ListData, \"0\")) {\n          this.ParentId = this.$Lodash.cloneDeep(this.ListData[0].Id);\n          this.ListData.shift();\n          this.PageKey = this.ListData[0];\n          this.getSetting();\n        }\n      });\n      },\n      getSetting(){\n        this.ListData = [];\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n         request.R1_RequestTemplate = 'Setting.SearchSettingTree';\n         request.R1_ParentCode = 'xSetting.Project.Parameter.Organization.Category';\n         request.R2_RequestTemplate = 'Setting.SearchSetting';\n         request.R2_ParentCode = 'xSetting.Project.Parameter.Organization.Category';\n         request.TotalRequests = 2;\n         this.$Utils.postCheckResult(request).then((data) => {\n           this.treeData.children = this.$Utils.getDataWithRoot(data.R1, 'Data');\n           var SourceList = this.$Utils.getDataWithRoot(data.R2, 'Data.DynamicDS.Setting');\n           if(this.$Utils.isEmpty(SourceList, '0')){\n            var RootLevel = this.$Lodash.cloneDeep(SourceList[0].Level);\n           }\n           $.each(SourceList, (key, value) => {\n             var index = key - 1\n             this.ListData.push(value)\n             var childRank = eval(value.Level - RootLevel);\n             this.ListData[key].text = \"\";\n             while (childRank > 0) {\n               this.ListData[key].text += \"|-- \"\n               childRank--;\n             }\n             this.ListData[key].text += value.Name;\n           })\n         });\n      },\n      changeState (item) {\n        this.$set(item, '$foldClose', !item['$foldClose'])\n      },\n      changePosition (option) {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = 'Setting.MoveNode';\n        request.R1_Id = option.data.Id;\n        if(option.afterParent.children && option.afterParent.children.length > 1){\n          var index = 0;\n          $.each(option.afterParent.children, (key, value) =>{\n            if(value.Id == option.data.Id && key > 0){\n              index = key - 1;\n              request.R1_ReferenceId = option.afterParent.children[index].Id;\n              request.R1_NestedSetType = 'MoveToAfterAnother';\n            } else if(value.Id == option.data.Id && key == 0){\n              index = 1;\n              request.R1_ReferenceId = option.afterParent.children[index].Id;\n              request.R1_NestedSetType = 'MoveToBeforeAnother';\n            }\n          })\n        } else {\n          request.R1_ReferenceId = option.afterParent.Id;\n          request.R1_NestedSetType = 'MoveToLastChildNode';\n        }\n        this.$Utils.post(request).then((data) => {\n          // this.$Utils.showLoading('stop');\n          this.getAllLevel(option.afterParent.Level, option.data);\n           this.$hub.$emit('update-category-tree-form');\n          // this.inputData.push()\n\n          var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n          taskRequest.R1_RequestTemplate = \"AG_Task_Task.Search\";\n          taskRequest.R1_RequestDataGroup = \"DataGroup.danh-sach-cong-viec.04b66\";\n          taskRequest.R1_RequestFields = \"Id;Index;Categories;CategoriesName;Code;CategoriesLevel1;CategoriesLevel2;CategoriesLevel3;CategoriesLevel4;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;CategoriesLevel5;CategoriesLevel6;CategoriesLevel7;CategoriesLevel8;CategoriesLevel9;CategoriesLevel10;CategoriesLevel11;CategoriesLevel12\"\n          taskRequest.R1_Keyword = option.data.Id;\n          this.$Utils.post(taskRequest).then((task) => {\n            task = this.$Utils.getDataWithRoot(task.R1, 'Data.TasksDS.Task');\n            this.ListTask = this.$Lodash.cloneDeep(task);\n              this.inputData = [];\n              this.checkParent(option.afterParent, option.data);\n            // })\n          })\n\n        });\n      },\n      editCategory (item, isNew) {\n        if(isNew){\n          this.$hub.$emit('addNewCat', item);\n        }else {\n          this.$hub.$emit(\n            \"set-modal-data\",\n            \"Sửa nghiệp vụ\",\n            \"40%\",\n            true,\n            \"center\",\n            EditCategory,\n            true,\n            '',\n            item\n          );\n        }\n      },\n      deleteSetting(data) {\n         this.$confirm(\n        \"Bạn có chắc chắn muốn xóa nghiệp vụ {0} này?\".replace('{0}', data.Name),\n        \"Cảnh báo\",\n        {\n          confirmButtonText: \"Xóa\",\n          cancelButtonText: \"Bỏ qua\",\n          type: \"warning\"\n        }\n      )\n        .then(() => {\n          if (this.$Utils.isEmpty(data)) {\n            var sourceTree = this.$Lodash.cloneDeep(this.ListData);\n            this.deleteItem(data, sourceTree)\n          }\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"Lỗi khi xóa\"\n          });\n        });\n\n      },\n\n      deleteItem(data, sourceTree) {\n        var ctrl = this;\n        var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.Delete\";\n        request.R1_Id = data.Id;\n        ctrl.$Utils.postCheckResult(request).then(dData => {\n          var flag = true;\n          $.each(sourceTree, (key, value) => {\n            if (data.Id == value.ParentId) {\n              ctrl.deleteItem(value, sourceTree);\n              flag = false;\n            }\n          });\n          if(flag === true){\n            ctrl.getSetting();\n            ctrl.$hub.$emit(\"update-document-category-selecttree\");\n          }\n        });\n      },\n      checkExits() {\n        if(this.Parent && this.Parent != '')\n          this.objParent = (this.ListData.filter((el) => {\n            return el.Id == this.Parent;\n          }))[0];\n        // else {\n        //   this.objParent = this.PageKey;\n        // }\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = 'Setting.SearchSetting';\n        //request.R1_Value = this.data.Id;\n        request.R1_ParentCode = 'xSetting.Project.Parameter.Project.Category';\n        this.$Utils.post(request).then((data) => {\n          var listExitsCate = this.$Utils.getDataWithRoot(data.R1, 'Data.DynamicDS.Setting');\n          listExitsCate = listExitsCate.filter((el) => {\n            return el.Name == this.Name;\n          });\n          if (listExitsCate.length > 0) {\n            //console.log('Chuyên mục đã tồn tại')\n            // if ($rootScope.application.versionName == 'Professional') {\n            //   this.$Utils.showMessage('error', 'Danh mục nghiệp vụ đã tồn tại');\n            // } else if ($rootScope.application.versionName == 'Enterprise') {\n            //   this.$Utils.showMessage('error', 'Chuyên mục đã tồn tại');\n            // }\n          } else {\n            this.insertSetting();\n          }\n\n        });\n      },\n      insertSetting(data) {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.Insert\";\n        request.R1_Name = this.Name;\n        //request.R1_Value = this.data.Id;\n        request.R1_ValueName = this.data.Name;\n        request.R1_ReferenceId = this.$Utils.isEmpty(this.objParent) ? this.objParent.Id : this.ParentId;\n        request.R1_NestedSetType = 'InsertLastChildNode';\n        this.$Utils.postCheckResult(request).then((dData) => {\n          this.$Utils.linkToRoleEveryone([{\n            Id: dData.R1.Data,\n            Caption: this.Name\n          }])\n          if (this.$Utils.isEmpty(this.objParent, 'Level'))\n            this.onSave(this.objParent.Level);\n          else\n            this.onSave(5);\n          // if (this.$Utils.isEmpty(data)) {\n          //   var pass = {};\n          //   pass.Id = dData.R1.Data;\n          //   pass.Name = this.$Lodash.cloneDeep(this.Name)\n          //   pass.Value = this.objParent.Id;\n          //   pass.ValueName = this.objParent.Name;\n          //   this.showSetting(pass)\n          // }\n          this.Name = null;\n          this.objParent = null;\n          this.getSetting();\n        })\n      },\n      updateDatagroup() {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.TotalRequests = 4;\n        request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R1_Code = \"DataGroup.danh-sach-cong-viec.04b66\";\n        request.R2_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R2_ParentCode = \"xSetting.Project.Form\";\n        request.R2_Level = \"4\";\n        request.R2_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n        request.R3_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R3_ParentCode = \"xSetting.Project.List\";\n        request.R3_Level = \"4\";\n        request.R3_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n        request.R4_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R4_ParentCode = \"xSetting.Project.Filter\";\n        request.R4_Level = \"4\";\n        request.R4_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n        this.$Utils.post(request).then((data) => {\n          this.SettingFilter = this.$Utils.getDataWithRoot(data.R1, 'Data.DynamicDS.Setting')[0];\n          if (this.$Utils.isEmpty(this.SettingFilter, 'Description') && typeof this.SettingFilter.Description == 'string')\n            this.SettingFilter.Description = JSON.parse(this.SettingFilter.Description);\n          this.objFields = {};\n          this.sortedFilter = [];\n          for (var i = 1; i <= this.SettingFilter.Description.FCount; i++) {\n            if (i == 1)\n              this.FilterSettings = \"\";\n            this.FilterSettings += this.SettingFilter['F' + i]\n            if (i == this.SettingFilter.Description.FCount) {\n              this.setFilterSetting = true;\n              this.FilterSetting = JSON.parse(this.FilterSettings)\n              this.SettingFilter.Fields = this.FilterSetting;\n            }\n          }\n          this.viewModel.ListModules = this.$Utils.getDataWithRoot(data.R2, 'Data.DynamicDS.Setting');\n          this.viewModel.ListModules = this.viewModel.ListModules.concat(this.$Utils.getDataWithRoot(data.R3, 'Data.DynamicDS.Setting'));\n          this.viewModel.ListModules = this.viewModel.ListModules.concat(this.$Utils.getDataWithRoot(data.R4, 'Data.DynamicDS.Setting'));\n          this.viewModel.ListModules.forEach((item) => {\n            if (item.Description != undefined) {\n              item.Description = JSON.parse(item.Description);\n              item.ObjectFields = '';\n              for (var i = 1; i <= item.Description.OFCount; i++) {\n                if (item['OF' + i] != undefined)\n                  item.ObjectFields += item['OF' + i];\n              }\n              item.ObjectFields = JSON.parse(item.ObjectFields);\n            }\n          })\n          this.DatagroupSource = this.$Lodash.cloneDeep(this.viewModel.ListModules)\n        })\n      },\n      onSave(level, status) {\n        var strFields = JSON.stringify(this.SettingFilter.Fields);\n        level = level - 4;\n       if (strFields.indexOf(\"CategoriesLevel\" + level) == -1) {\n        var obj = {\n          Caption: \"Danh mục phòng ban cấp \" + level,\n          DataSource: \"xDynamicData_Setting\",\n          FieldColumnType: \"String\",\n          FieldStorageType: \"Struct\",\n          FilterIsUsed: \"true\",\n          FormDisplay: \"- Danh mục phòng ban cấp \" + level + \" -\",\n          FormFieldType: \"Hidden\",\n          FormIncludeSubmit: \"true\",\n          FormValidate: \"\",\n          ListButtonGroups: \"\",\n          ListIsHidden: \"true\",\n          Name: \"CategoriesLevel\" + level,\n          PlaceHolder: \"- Danh mục phòng ban \" + level + \" -\",\n          ReportIsUsed: \"true\",\n        }\n          this.SettingFilter.Fields.push(obj);\n          strFields = JSON.stringify(this.SettingFilter.Fields);\n          var arrValue = JSON.parse(this.SettingFilter.Value);\n          var objValue = {\n            Name: \"CategoriesLevel\" + level,\n            ColumnType: \"String\",\n            StorageType: \"Struct\"\n          }\n          arrValue.push(objValue);\n          this.SettingFilter.Value = JSON.stringify(arrValue);\n          this.sourceFields = this.$Lodash.cloneDeep(this.SettingFilter.Fields);\n          delete this.SettingFilter.Fields;\n          var iStartIndex = 0;\n          this.SettingFilter.Description.FCount = 0;\n          for (var i = 1; i < 7; i++) {\n            if (strFields.length > iStartIndex) {\n              this.SettingFilter['F' + i] = strFields.substring(iStartIndex, iStartIndex + 9999);\n              iStartIndex = 10000 * i - i;\n              this.SettingFilter.Description.FCount = i;\n            }\n          }\n          this.SettingFilter.Description = JSON.stringify(this.SettingFilter.Description);\n          if (!this.$Utils.isEmpty(status) || status == false) {\n            var requestData = this.$Lodash.cloneDeep(this.$singleRequest);\n            this.$Utils.updateParamsSingleRequest(requestData, this.$Lodash.cloneDeep(this.SettingFilter));\n            requestData.R1_RequestTemplate = \"SettingNew.Update\";\n            this.$Utils.post(requestData).then((requestData) => {\n              this.saveModules();\n            })\n          }\n        }\n\n      },\n      saveModules() {\n        var dataGroup = this.$Lodash.cloneDeep(this.SettingFilter);\n        dataGroup.Description = JSON.parse(dataGroup.Description);\n        dataGroup.Description.Fields = this.$Lodash.cloneDeep(this.sourceFields);\n        var arrModules = this.$Lodash.cloneDeep(this.viewModel.ListModules);\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.TotalRequests = 0;\n        arrModules.forEach((module) => {\n          request.TotalRequests++;\n\n          module.ModuleType = module.Value;\n          module.Description.DataGroupCaption = dataGroup.Caption;\n          module.Description.RootData = dataGroup.Description.RootData;\n          module.Description.DataSource = dataGroup.Description.DataSource;\n          module.Description.AdditionConditions = dataGroup.Description.AdditionConditions;\n          if (['Form', 'Filter', 'List'].indexOf(module.Description.ModuleType) != -1)\n            module.Description.Link = dataGroup.Description.Link;\n\n          if (['Form', 'Filter'].indexOf(module.Description.ModuleType) != -1)\n            module.Description.Dependencies = dataGroup.Description.Dependencies;\n          var refFields = this.$Lodash.cloneDeep(module.ObjectFields);\n          var arrDefaultFields = ['Multicheck', 'IndexDefault', 'Tool'];\n          refFields.forEach((field) => {\n            var isExist = false;\n            for (var i = 0; i < dataGroup.Description.Fields.length; i++) {\n              var dgField = dataGroup.Description.Fields[i];\n              if (field.Name == dgField.Name) {\n                isExist = true;\n                break;\n              }\n            }\n            if (['List'].indexOf(module.Description.ModuleType) != -1) {\n              if (arrDefaultFields.indexOf(field.Name) != -1)\n                isExist = true;\n              if (field.ManualCalculator == 'true')\n                isExist = true;\n            }\n            if (!isExist) {\n              $.each(module.ObjectFields, (index, sourceField) => {\n                if (field.Name == sourceField.Name)\n                  module.ObjectFields.splice(index, 1);\n              });\n              if (module.Description.Groups != undefined) {\n                module.Description.Groups.forEach((group) => {\n                  if (group.ListFields != undefined)\n                    if (group.ListFields.indexOf(field.Name) != -1)\n                      group.ListFields = group.ListFields.replace(field.Name + ';', '');\n                })\n              }\n            }\n          })\n          if(this.$Utils.isEmpty(module.Description, 'Buttons')){\n            var refButtons = this.$Lodash.cloneDeep(module.Description.Buttons);\n            refButtons.forEach((button) => {\n              var isExist = false;\n              for (var i = 0; i < dataGroup.Description.Buttons.length; i++) {\n                var dgButton = dataGroup.Description.Buttons[i];\n                if (dgButton.Code == button.Code)\n                  isExist = true;\n              }\n              if (!isExist) {\n                $.each(module.Description.Buttons, (index, sourceButton) => {\n                  if (button.Code == sourceButton.Code)\n                    module.Description.Buttons.splice(index, 1);\n                });\n              }\n            });\n\n            module.Description.Buttons.forEach((moduleButton) => {\n              module.Description.Buttons.forEach((dgButton) => {\n                if (dgButton.Code == moduleButton.Code)\n                  moduleButton = dgButton;\n              })\n            })\n          }\n\n          if (['Form', 'List'].indexOf(module.Description.ModuleType) != -1) {\n            for (var i = 0; i < module.Description.Buttons.length; i++) {\n              dataGroup.Description.Buttons.forEach((dgButton) => {\n                if (module.Description.Buttons[i].Code == dgButton.Code)\n                  module.Description.Buttons[i] = dgButton;\n              });\n            }\n          }\n\n          module.Fields = this.$Lodash.cloneDeep(module.ObjectFields);\n          module.Fields.forEach((field) => {\n            dataGroup.Description.Fields.forEach((dgField) => {\n              if (dgField.Name == field.Name) {\n                $.each(dgField, (key, value) => {\n                  if (!this.$Utils.isEmpty(field[key]))\n                    field[key] = value;\n                });\n                this.$Utils.deleteAutoValue(field);\n              }\n            });\n          });\n\n          if (['Form', 'Filter'].indexOf(module.Description.ModuleType) != -1) {\n            dataGroup.Description.Fields.forEach((field) => {\n              this.$Utils.deleteAutoValue(field);\n              if (field.FormFieldType == 'Hidden')\n                module.Fields.push(field);\n              if (field.DynamicText != undefined && field.DynamicText != null)\n                module.Fields.push({ Name: field.DynamicText, FieldStorageType: 'Dynamic' });\n            });\n          } else {\n            dataGroup.Description.Fields.forEach((field) => {\n              this.$Utils.deleteAutoValue(field);\n              if (field.ListIsHidden == 'true')\n                module.Fields.push(field);\n              if (field.DynamicText != undefined && field.DynamicText != null)\n                module.Fields.push({ Name: field.DynamicText, FieldStorageType: 'Dynamic' });\n            });\n          }\n\n          module.ObjectFields = JSON.stringify(module.ObjectFields);\n          var iStartIndex = 0;\n          var iFieldCount = 0;\n          for (var i = 1; i < 7; i++) {\n            if (module.ObjectFields.length > iStartIndex) {\n              module['OF' + i] = module.ObjectFields.substring(iStartIndex, iStartIndex + 9999);\n              iStartIndex = 10000 * i - i;\n              iFieldCount = i;\n            }\n          }\n          module.Description.OFCount = iFieldCount;\n          delete module.ObjectFields;\n\n          iStartIndex = 0;\n          iFieldCount = 0;\n          module.Fields = JSON.stringify(module.Fields);\n          for (var i = 1; i < 7; i++) {\n            if (module.Fields.length > iStartIndex) {\n              module['F' + i] = module.Fields.substring(iStartIndex, iStartIndex + 9999);\n              iStartIndex = 10000 * i - i;\n              iFieldCount = i;\n            }\n          }\n          module.Description.FCount = iFieldCount;\n          delete module.Fields;\n\n          module.Description = JSON.stringify(module.Description);\n          request = this.$Utils.updateParamsSingleRequest(request, module, request.TotalRequests);\n          request = this.$Utils.updateParamsSingleRequest(request, { RequestTemplate: 'SettingNew.Update' }, request.TotalRequests);\n        })\n        this.$Utils.post(request).then((data) => {\n          this.updateDatagroup();\n        });\n      },\n      getAllLevel(parent, data) {\n        // if (this.$Utils.isEmpty(next, 'nextItem') && next.nextItem.level > ori) {\n        //   if (next.nextItem.level > maxLevel) {\n        //     maxLevel = next.nextItem.level;\n        //     level = level + 1;\n        //   }\n        //   getAllLevel(next.nextItem, ori, maxLevel, level, dropPosition, parent)\n        // } else if (level > 1) {\n        //   for (var i = 0; i <= level; i++) {\n        //     var status = false;\n        //     if (i < level - 1)\n        //       status = true;\n        //     if (dropPosition == 'inside')\n        //       this.onSave(parent + i + 6, status);\n        //     else {\n        //       this.onSave(parent + i + 5, status);\n        //     }\n        //   }\n        // } else {\n        //   if (dropPosition == 'inside')\n        //     this.onSave(parent + 6);\n        //   else {\n        //     this.onSave(parent + 5);\n        //   }\n        // }\n        this.onSave(eval(parent) + 1);\n        if(this.$Utils.isEmpty(data.children)){\n          this.getAllLevel(eval(parent) + 1, data.children)\n        }\n\n      },\n      checkParent(selectedItem) {\n        if(this.$Utils.isEmpty(selectedItem, '$parent')){\n          var parent = this.$Lodash.cloneDeep(selectedItem.$parent);\n          delete selectedItem.$parent\n          this.inputData.unshift(parent)\n          this.checkParent(selectedItem.$parent)\n        } else {\n          // this.inputData.unshift(value)\n          var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n          taskRequest.TotalRequests = 0;\n          $.each(this.ListTask, (index, task) => {\n            if (this.$Utils.isEmpty(task, 'CategoriesName') && task.Categories != \"\") {\n              var flag = false;\n              var newCategory = this.$Lodash.cloneDeep(this.inputData);\n              var catName = this.$Utils.isEmpty(task, 'CategoriesName') ? task.CategoriesName.split(';') : [];\n              $.each(task.Categories.split(';'), (key, category) => {\n                if (category != \"\") {\n                  if (flag == true) {\n                    var cat = {};\n                    cat.Id = category;\n                    cat.Name = catName[key];\n                    newCategory.push(cat)\n                  }\n                  if (category == this.inputData[this.inputData.length - 1].Id) {\n                    flag = true;\n                  }\n                }\n              })\n              if (flag == true) {\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestTemplate'] = \"AG_Task_Task.Update\";\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestDataGroup'] = \"DataGroup.danh-sach-cong-viec.04b66\";\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] = \"Id;Index;Categories;Code;\"\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Categories'] = \"\";\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_CategoriesName'] = \"\";\n                taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Id'] = task.Id;\n                $.each(newCategory, function(val, key) {\n                  taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Categories'] += val.Id + \";\";\n                  taskRequest['R' + [taskRequest.TotalRequests + 1] + '_CategoriesName'] += val.Name + \";\";\n                  taskRequest['R' + [taskRequest.TotalRequests + 1] + '_CategoriesLevel' + [key + 1]] = val.Id;\n                  taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] += 'CategoriesLevel' + [key + 1] + ';';\n                })\n                taskRequest.TotalRequests++;\n              }\n            }\n          })\n          this.$Utils.post(taskRequest);\n        }\n\n        // $.each($scope.viewModel.treeSettings.getItems(), function(item) {\n        //   $.each(this.ListCat, function(value) {\n        //     if (selectedItem.value == value.Id && item.value == value.ParentId) {\n        //       this.inputData.unshift(value)\n        //       checkParent(item)\n        //     }\n        //     if (selectedItem.value == value.Id && selectedItem.level == \"0\" && (this.$Utils.isEmpty(this.inputData, '0') && this.inputData[0].Id != value.Id || !this.$Utils.isEmpty(this.inputData, '0'))) {\n        //       this.inputData.unshift(value)\n        //       var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n        //       taskRequest.TotalRequests = 0;\n        //       $.each($scope.ListTask, function(task, index) {\n        //         if (this.$Utils.isEmpty(task, 'ProjectCategoriesName') && task.Categories != \"\") {\n        //           var flag = false;\n        //           var newCategory = this.$Lodash.cloneDeep(this.inputData);\n        //           var catName = this.$Utils.isEmpty(task, 'ProjectCategoriesName') ? task.CategoriesName.split(';') : [];\n        //           $.each(task.Categories.split(';'), function(category, key) {\n        //             if (category != \"\") {\n        //               if (flag == true) {\n        //                 var cat = {};\n        //                 cat.Id = category;\n        //                 cat.Name = catName[key];\n        //                 newCategory.push(cat)\n        //               }\n        //               if (category == this.inputData[this.inputData.length - 1].Id) {\n        //                 flag = true;\n        //               }\n        //             }\n        //           })\n        //           if (flag == true) {\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestTemplate'] = \"AG_Task_Task.Update\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestDataGroup'] = \"DataGroup.danh-sach-cong-viec.04b66\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] = \"Id;Index;ProjectCategories;Code;\"\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategories'] = \"\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategoriesName'] = \"\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Id'] = task.Id;\n        //             $.each(newCategory, function(val, key) {\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategories'] += val.Id + \";\";\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategoriesName'] += val.Name + \";\";\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategoriesLevel' + [key + 1]] = val.Id;\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] += 'ProjectCategoriesLevel' + [key + 1] + ';';\n        //             })\n        //             taskRequest.TotalRequests++;\n        //           }\n        //         }\n        //       })\n        //       this.$Utils.post(taskRequest).then(function(xtask) {})\n        //     }\n        //   })\n        // });\n      },\n    },\n\n  };\n</script>\n<style lang=\"scss\" scoped>\n  .group-categories{\n    .card{\n      margin-bottom: 0px;\n    }\n    .custom-tree-content {\n      position: relative;\n      top: 2px;\n      z-index: 1;\n      &.exitChild {\n        margin-left: -7px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/dynamic/GroupCategoryTree.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d1ebfc78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditGroupCategory.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditGroupCategory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d1ebfc78\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditGroupCategory.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/EditGroupCategory.vue\n// module id = 922\n// module chunks = 0 1 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d1ebfc78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./EditGroupCategory.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"a8c46968\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d1ebfc78\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/EditGroupCategory.vue\n// module id = 923\n// module chunks = 0 1 4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"EditGroupCategory.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d1ebfc78\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/EditGroupCategory.vue\n// module id = 924\n// module chunks = 0 1 4","<template>\n  <div>\n    <el-form>\n      <el-form-item label=\"Chuyên mục\">\n        <el-input placeholder=\"Chuyên mục\" v-model=\"categorie\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Thuộc phòng ban\">\n        <el-select v-if=\"groups && groups.length > 0\" v-model=\"valueGroup\" multiple placeholder=\"Chọn phòng ban\" style=\"width: 100%\">\n          <el-option\n            v-for=\"item in groups\"\n            :key=\"item.GroupId\"\n            :label=\"item.GroupName\"\n            :value=\"item.GroupId\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item >\n        <el-col :span=\"8\">&ensp;</el-col>\n        <el-col :span=\"8\">\n          <el-button type=\"primary\" @click=\"updateCate\">Lưu</el-button>\n          <el-button @click=\"closeForm\">Đóng</el-button>\n        </el-col>\n        <el-col :span=\"8\">&ensp;</el-col>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: ['data'],\n    components: {\n    },\n    data() {\n      return {\n        categorie:this.data.Name,\n        groups:[],\n        valueGroup:[],\n        valueGroupName:'',\n        valueGroupId:'',\n        categories:[],\n        itemCate:''\n      }\n    },\n    created(){\n       if(this.$Utils.isEmpty(this.data.Value)){\n        var arrCate=this.data.Value.split(';');\n        arrCate.forEach((item)=>{\n          if (item.length>1){\n            this.valueGroup.push(item)\n          }\n        })\n       }\n    },\n    mounted(){\n      this.getGroups();\n     // this.loadCategories();\n    },\n    methods: {\n      getGroups(){\n        var req={\n          RequestClass:'xBase',\n          RequestAction:'Request',\n          TotalRequests:1,\n          R1_RequestTemplate:'OrgnizationList',\n          R1_GroupType:1\n        }\n        this.$Utils.post(req).then(response => {\n          this.groups= this.$Utils.getDataWithRoot(response.R1, 'Data.UserDS.Group');\n\n        })\n      },\n      updateCate(){\n        this.groups.forEach((item) => {\n          this.valueGroup.forEach((id)=>{\n            if(id==item.GroupId){\n              this.valueGroupName+=item.GroupName;\n              this.valueGroupId+=id+';';\n            }\n          })\n        })\n        var req={\n          RequestClass:'xBase',\n          RequestAction:'Request',\n          TotalRequests:1,\n          R1_RequestTemplate:'Setting.MigrateSetting',\n          R1_Id:this.data.Id,\n          R1_Level:this.data.Level,\n          R1_Name:this.categorie,\n          R1_ParentId:this.data.ParentId,\n          R1_$$mdSelectId:this.data.$treeNodeId,\n          R1_oldName:this.categorie,\n          R1_Value:this.valueGroupId,\n          R1_ValueName:this.valueGroupName\n        }\n        this.$Utils.postCheckResult(req).then(response => {\n          if(response.success){\n        this.$message({\n          message: 'Cập nhật thành công',\n          type: 'success'\n        });\n        this.$hub.$emit(\"update-category-tree\");\n        this.closeForm();\n        }\n        })\n\n      },\n      loadCategories(){\n        var req={\n          RequestClass:'xBase',\n          RequestAction:'Request',\n          TotalRequests:1,\n          R1_RequestTemplate:'Setting.SearchBase',\n          R1_ParentCode:'xSetting.Project.Parameter.Organization.Category'\n        }\n        this.$Utils.post(req).then(response => {\n          this.categories=response.R1.Data.DynamicDS.Setting;\n\n        })\n      },\n      closeForm(){\n        this.$hub.$emit('close-modal')\n      },\n    }\n  }\n</script>\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/EditGroupCategory.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"Chuyên mục\"}},[_c('el-input',{attrs:{\"placeholder\":\"Chuyên mục\"},model:{value:(_vm.categorie),callback:function ($$v) {_vm.categorie=$$v},expression:\"categorie\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Thuộc phòng ban\"}},[(_vm.groups && _vm.groups.length > 0)?_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"placeholder\":\"Chọn phòng ban\"},model:{value:(_vm.valueGroup),callback:function ($$v) {_vm.valueGroup=$$v},expression:\"valueGroup\"}},_vm._l((_vm.groups),function(item){return _c('el-option',{key:item.GroupId,attrs:{\"label\":item.GroupName,\"value\":item.GroupId}})})):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateCate}},[_vm._v(\"Lưu\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.closeForm}},[_vm._v(\"Đóng\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d1ebfc78\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/EditGroupCategory.vue\n// module id = 926\n// module chunks = 0 1 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group-categories\"},[_c('b-card',[_c('sortable-tree',{attrs:{\"data\":_vm.treeData,\"mixinParentKey\":\"$parent\",\"dragEnable\":true,\"closeStateKey\":\"$foldClose\"},on:{\"changePosition\":_vm.changePosition},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"custom-tree-content\",class:{'exitChild': item.children && item.children.length}},[(item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▶\")]):(!item['$foldClose'] && item.children && item.children.length)?_c('span',{on:{\"click\":function($event){_vm.changeState(item)}}},[_vm._v(\"▼\")]):_vm._e(),_vm._v(\" \"),(item.level!='0')?_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editCategory(item, false)}}},[_vm._v(_vm._s(item.Name))]):_c('span',[_vm._v(_vm._s(item.Name))]),_vm._v(\" \"),_c('span',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editCategory(item, true)}}},[_c('i',{staticClass:\"fa fa-plus\"})]),_vm._v(\" \"),(item.level!='0')?_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.deleteSetting(item)}}},[_vm._v(\"\\n                |\"),_c('i',{staticClass:\"fa fa-trash\",attrs:{\"aria-hidden\":\"true\"}})]):_vm._e()])])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae61956e\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dynamic/GroupCategoryTree.vue\n// module id = 927\n// module chunks = 0 1 4","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CreateGroupCategoryForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c5b40e94\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CreateGroupCategoryForm.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/CreateGroupCategoryForm.vue\n// module id = 928\n// module chunks = 0 1 4","\n<template>\n  <el-form :inline=\"!parent\" label-width=\"130px\"  :model=\"formInline\">\n  <el-form-item label=\"Tên nghiệp vụ\" required>\n    <el-input v-model=\"formInline.Name\" placeholder=\"Tên nghiệp vụ\"></el-input>\n  </el-form-item>\n   <el-form-item label=\"Nghiệp vụ cha\">\n     <el-select v-if=\"parent\" v-model=\"ParentCategory\" :disabled=\"formInline.isDisable\" placeholder=\"Chọn\">\n       <el-option :label=\"parent.Name\" :value=\"parent.Id\">\n       </el-option>\n     </el-select>\n\n     <el-cascader v-else :options=\"groupcategories\" placeholder=\"Chọn\" change-on-select clearable v-model=\"formInline.ParentCategory\" @change=\"setParent(formInline.ParentCategory)\"></el-cascader>\n  </el-form-item>\n  <el-form-item label=\"Thuộc phòng ban\">\n    <el-select v-model=\"Value\" multiple clearable :disabled=\"formInline.isDisable\" placeholder=\"Chọn\">\n      <el-option v-for=\"item in groups\" :key=\"item.GroupId\" :label=\"item.GroupName\" :value=\"item.GroupId\">\n      </el-option>\n    </el-select>\n  </el-form-item>\n  <el-form-item>\n    <el-button type=\"primary\" @click=\"onSubmit\">Lưu</el-button>\n  </el-form-item>\n</el-form>\n</template>\n\n<script>\nimport SelectCheck from \"@/components/dynamic/SelectCheck\";\nimport SelectTree from \"@/components/dynamic/SelectTree\";\nexport default {\n  props: [\"groupcategories\", \"rootId\", \"callback\", \"grcategories\", \"parent\"],\n  data() {\n    return {\n      ParentCategory:this.parent?this.parent.Id:'',\n      formInline: {\n        Name: \"\",\n        Group: [],\n        ParentCategory: this.parent?[this.parent.Id]:[],\n        isDisable: false\n      },\n      grcate: [],\n      groups: [],\n      SelectedCategory: [],\n      SelectedGroup: [],\n      rotateGroups: [],\n      SettingFilter: {},\n      viewModel: {},\n      Value: [],\n    };\n  },\n  components: {\n    SelectCheck,\n    SelectTree\n  },\n  methods: {\n    setParent(id) {\n      //console.log(id)\n      // console.log(this.grcategories)\n      var data = {};\n      $.each(this.groupcategories, (key, ele) => {\n        if (id[0] === ele.Id) {\n          data.Value = ele.Value;\n          return;\n        }\n      });\n      // console.log(data)\n      var ctrl = this;\n      /*var arrTemp = data.*/\n      ctrl.Value = [];\n      ctrl.formInline.Group = ctrl.Value;\n      this.formInline.isDisable = false;\n      if (data) {\n        $.each(ctrl.groups, (key, value) => {\n          if (data.Value) {\n            $.each(data.Value.split(\";\"), (k, v) => {\n              if (data && value.GroupId == v) {\n                ctrl.Value.push(value.GroupId);\n              }\n            });\n            this.formInline.isDisable = true;\n          }\n        });\n        if (ctrl.Value.length > 0) {\n          ctrl.formInline.Group = ctrl.Value;\n        }\n      }\n    },\n    loadGroups() {\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"OrgnizationList\",\n        R1_GroupType: 1\n      };\n\n      this.$Utils.post(request).then(response => {\n        if (response.success) {\n          this.groups = this.$Utils.getDataWithRoot(response.R1, 'Data.UserDS.Group') //response.R1.Data.UserDS.Group;\n          this.rotateGroups = this.$Utils.rotateDementionArr(\n            this.groups,\n            \"GroupId\"\n          );\n        }\n      });\n    },\n    loadCategories() {\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"SettingNew.SearchSetting\",\n        R1_ParentCode: \"xSetting.Project.Parameter.Organization.Category\",\n        R1_GroupType: 1\n      };\n      this.$Utils.post(request).then(response => {\n        if (response.data.success) {\n        }\n      });\n    },\n    childUpdate(value) {\n      this.Group = value;\n    },\n    childTreeUpdate(value) {},\n    onSubmit() {\n      this.checkExits();\n      // console.log(\"submit!\");\n      // this.formInline.Group = SelectCheck.value;\n      // this.$hub.$emit(\"update-category-callback\", SelectCheck);\n    },\n    checkExits(isUpdateAfter) {\n      var ctrl = this;\n      if (this.formInline.Name == \"\") {\n        this.$message.error(\"Tên Nghiệp vụ không được để trống\");\n      } else {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.SearchSetting\";\n        request.R1_ParentCode =\n          \"xSetting.Project.Parameter.Organization.Category\";\n        request.R1_Name = ctrl.formInline.Name;\n        request.R1_ReferenceId = ctrl.$Utils.isEmpty(\n          ctrl.formInline.ParentCategory\n        )\n          ? ctrl.formInline.ParentCategory[\n              ctrl.formInline.ParentCategory.length - 1\n            ]\n          : ctrl.rootId;\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        request.R1_IncludedNestedSetParent = true;\n        ctrl.$Utils.post(request).then(data => {\n          var listExitsCate = ctrl.$Utils.getDataWithRoot(\n            data.R1,\n            \"Data.DynamicDS.Setting\"\n          );\n          listExitsCate = listExitsCate.filter(el => {\n            return el.Name == ctrl.Name;\n          });\n          if (listExitsCate.length > 0) {\n            ctrl.$message.error(\"Danh mục phòng ban đã tồn tại.\");\n          } else {\n            ctrl.insertSetting(isUpdateAfter);\n          }\n        });\n      }\n    },\n    insertSetting(data) {\n      var ctrl = this;\n      var GroupId = \"\";\n      var GroupName = \"\";\n      if (this.formInline.Name == \"\") {\n        this.$Utils.showMessage(\"error\", \"Tên Nghiệp vụ không được để trống\");\n      } else {\n        var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.Insert\";\n        request.R1_Name = ctrl.formInline.Name;\n        request.R1_Value = ctrl.Value.join(\";\");\n        //console.log('ctrl.Value==>> ',ctrl.Value);\n        /*request.R1_ValueName = GroupName;*/\n        request.R1_ReferenceId =\n          ctrl.formInline.ParentCategory.length > 0\n            ? ctrl.formInline.ParentCategory[\n                ctrl.formInline.ParentCategory.length - 1\n              ]\n            : ctrl.rootId;\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        ctrl.$Utils.postCheckResult(request).then(dData => {\n          ctrl.$Utils.linkToRoleEveryone([\n            {\n              Id: dData.R1.Data,\n              Caption: ctrl.formInline.Name\n            }\n          ]);\n          if (\n            ctrl.$Utils.isEmpty(\n              ctrl.rotateGroups[request.R1_ReferenceId],\n              \"Level\"\n            )\n          )\n          ctrl.onSave(ctrl.rotateGroups[request.R1_ReferenceId].Level);\n          else ctrl.onSave(5);\n          if (ctrl.$Utils.isEmpty(data)) {\n            var pass = {};\n            pass.Id = dData.R1.Data;\n            if (ctrl.$Utils.isEmpty(ctrl.formInline.Name))\n              pass.Name = ctrl.$Utils.clone(ctrl.formInline.Name);\n            if (ctrl.$Utils.isEmpty(GroupId)) {\n              pass.Value = GroupId;\n              pass.ValueName = GroupName;\n            }\n            //show popup here\n            // ctrl.function.showSetting(pass)\n          }\n          // ctrl.$refs['formInline'].resetFields();\n          this.$message.success(\"Nghiệp vụ {0} thành công.\".replace('{0}', ctrl.formInline.Name));\n          ctrl.formInline.Name = \"\";\n          ctrl.formInline.Group = [];\n          ctrl.formInline.ParentCategory = [];\n          this.$hub.$emit(\"update-category-tree\");\n        });\n      }\n    },\n    onSave(level, status) {\n      var ctrl = this;\n      var strFields = JSON.stringify(ctrl.SettingFilter.Fields);\n      level = level - 4;\n      if (strFields.indexOf(\"CategoriesLevel\" + level) == -1) {\n        var obj = {\n          Caption: \"Danh mục phòng ban cấp \" + level,\n          DataSource: \"xDynamicData_Setting\",\n          FieldColumnType: \"String\",\n          FieldStorageType: \"Struct\",\n          FilterIsUsed: \"true\",\n          FormDisplay: \"- Danh mục phòng ban cấp \" + level + \" -\",\n          FormFieldType: \"Hidden\",\n          FormIncludeSubmit: \"true\",\n          FormValidate: \"\",\n          ListButtonGroups: \"\",\n          ListIsHidden: \"true\",\n          Name: \"CategoriesLevel\" + level,\n          PlaceHolder: \"- Danh mục phòng ban \" + level + \" -\",\n          ReportIsUsed: \"true\"\n        };\n        ctrl.SettingFilter.Fields.push(obj);\n        strFields = JSON.stringify(ctrl.SettingFilter.Fields);\n        var arrValue = JSON.parse(ctrl.SettingFilter.Value);\n        var objValue = {\n          Name: \"CategoriesLevel\" + level,\n          ColumnType: \"String\",\n          StorageType: \"Struct\"\n        };\n        arrValue.push(objValue);\n        ctrl.SettingFilter.Value = JSON.stringify(arrValue);\n        ctrl.sourceFields = ctrl.$Lodash.cloneDeep(ctrl.SettingFilter.Fields);\n        delete ctrl.SettingFilter.Fields;\n        var iStartIndex = 0;\n        ctrl.SettingFilter.Description.FCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (strFields.length > iStartIndex) {\n            ctrl.SettingFilter[\"F\" + i] = strFields.substring(\n              iStartIndex,\n              iStartIndex + 9999\n            );\n            iStartIndex = 10000 * i - i;\n            ctrl.SettingFilter.Description.FCount = i;\n          }\n        }\n        ctrl.SettingFilter.Description = JSON.stringify(\n          ctrl.SettingFilter.Description\n        );\n        if (!ctrl.$Utils.isEmpty(status) || status == false) {\n          var requestData = angular.copy(singleRequest);\n          ctrl.$Utils.updateParamsSingleRequest(\n            requestData,\n            angular.copy(ctrl.SettingFilter)\n          );\n          requestData.R1_RequestTemplate = \"SettingNew.Update\";\n          //console.log(requestData);\n          ctrl.$Utils.post(requestData).then(requestData => {\n            ctrl.saveModules();\n          });\n        }\n      }\n    },\n    saveModules() {\n      var ctrl = this;\n      var dataGroup = ctrl.$Lodash.cloneDeep(ctrl.SettingFilter);\n      dataGroup.Description = JSON.parse(dataGroup.Description);\n      dataGroup.Description.Fields = ctrl.$Lodash.cloneDeep(ctrl.sourceFields);\n      var arrModules = ctrl.$Lodash.cloneDeep(ctrl.viewModel.ListModules);\n      var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n      request.TotalRequests = 0;\n      $.each(arrModules, (k, module) => {\n        request.TotalRequests++;\n        module.ModuleType = module.Value;\n        module.Description.DataGroupCaption = dataGroup.Caption;\n        module.Description.RootData = dataGroup.Description.RootData;\n        module.Description.DataSource = dataGroup.Description.DataSource;\n        module.Description.AdditionConditions =\n          dataGroup.Description.AdditionConditions;\n        if (\n          [\"Form\", \"Filter\", \"List\"].indexOf(module.Description.ModuleType) !=\n          -1\n        )\n          module.Description.Link = dataGroup.Description.Link;\n\n        if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1)\n          module.Description.Dependencies = dataGroup.Description.Dependencies;\n        var refFields = ctrl.$Lodash.cloneDeep(module.ObjectFields);\n        var arrDefaultFields = [\"Multicheck\", \"IndexDefault\", \"Tool\"];\n        $.each(refFields, function(k, field) {\n          var isExist = false;\n          for (var i = 0; i < dataGroup.Description.Fields.length; i++) {\n            var dgField = dataGroup.Description.Fields[i];\n            if (field.Name == dgField.Name) {\n              isExist = true;\n              break;\n            }\n          }\n          if ([\"List\"].indexOf(module.Description.ModuleType) != -1) {\n            if (arrDefaultFields.indexOf(field.Name) != -1) isExist = true;\n            if (field.ManualCalculator == \"true\") isExist = true;\n          }\n          if (!isExist) {\n            $.each(module.ObjectFields, (index, sourceField) => {\n              if (field.Name == sourceField.Name)\n                module.ObjectFields.splice(index, 1);\n            });\n            if (module.Description.Groups != undefined) {\n              $.each(module.Description.Groups, (k, group) => {\n                if (group.ListFields != undefined)\n                  if (group.ListFields.indexOf(field.Name) != -1)\n                    group.ListFields = group.ListFields.replace(\n                      field.Name + \";\",\n                      \"\"\n                    );\n              });\n            }\n          }\n        });\n\n        var refButtons = angular.copy(module.Description.Buttons);\n        $.each(refButtons, (k, button) => {\n          var isExist = false;\n          for (var i = 0; i < dataGroup.Description.Buttons.length; i++) {\n            var dgButton = dataGroup.Description.Buttons[i];\n            if (dgButton.Code == button.Code) isExist = true;\n          }\n          if (!isExist) {\n            $.each(module.Description.Buttons, (index, sourceButton) => {\n              if (button.Code == sourceButton.Code)\n                module.Description.Buttons.splice(index, 1);\n            });\n          }\n        });\n\n        $.each(module.Description.Buttons, (k, moduleButton) => {\n          $.each(module.Description.Buttons, (k, dgButton) => {\n            if (dgButton.Code == moduleButton.Code) moduleButton = dgButton;\n          });\n        });\n\n        if ([\"Form\", \"List\"].indexOf(module.Description.ModuleType) != -1) {\n          for (var i = 0; i < module.Description.Buttons.length; i++) {\n            $.each(dataGroup.Description.Buttons, (k, dgButton) => {\n              if (module.Description.Buttons[i].Code == dgButton.Code)\n                module.Description.Buttons[i] = dgButton;\n            });\n          }\n        }\n\n        module.Fields = angular.copy(module.ObjectFields);\n        $.each(module.Fields, (k, field) => {\n          $.each(dataGroup.Description.Fields, (k2, dgField) => {\n            if (dgField.Name == field.Name) {\n              $.each(dgField, (key, value) => {\n                if (!ctrl.$Utils.isEmpty(field[key])) field[key] = value;\n              });\n              ctrl.$Utils.deleteAutoValue(field);\n            }\n          });\n        });\n\n        if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1) {\n          $.each(dataGroup.Description.Fields, function(k, field) {\n            ctrl.$Utils.deleteAutoValue(field);\n            if (field.FormFieldType == \"Hidden\") module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null)\n              module.Fields.push({\n                Name: field.DynamicText,\n                FieldStorageType: \"Dynamic\"\n              });\n          });\n        } else {\n          $.each(dataGroup.Description.Fields, function(field) {\n            ctrl.$Utils.deleteAutoValue(field);\n            if (field.ListIsHidden == \"true\") module.Fields.push(field);\n            if (field.DynamicText != undefined && field.DynamicText != null)\n              module.Fields.push({\n                Name: field.DynamicText,\n                FieldStorageType: \"Dynamic\"\n              });\n          });\n        }\n\n        module.ObjectFields = JSON.stringify(module.ObjectFields);\n        var iStartIndex = 0;\n        var iFieldCount = 0;\n        for (var i = 1; i < 7; i++) {\n          if (module.ObjectFields.length > iStartIndex) {\n            module[\"OF\" + i] = module.ObjectFields.substring(\n              iStartIndex,\n              iStartIndex + 9999\n            );\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.OFCount = iFieldCount;\n        delete module.ObjectFields;\n\n        iStartIndex = 0;\n        iFieldCount = 0;\n        module.Fields = JSON.stringify(module.Fields);\n        for (var i = 1; i < 7; i++) {\n          if (module.Fields.length > iStartIndex) {\n            module[\"F\" + i] = module.Fields.substring(\n              iStartIndex,\n              iStartIndex + 9999\n            );\n            iStartIndex = 10000 * i - i;\n            iFieldCount = i;\n          }\n        }\n        module.Description.FCount = iFieldCount;\n        delete module.Fields;\n\n        module.Description = JSON.stringify(module.Description);\n        request = ctrl.$Utils.updateParamsSingleRequest(\n          request,\n          module,\n          request.TotalRequests\n        );\n        request = ctrl.$Utils.updateParamsSingleRequest(\n          request,\n          { RequestTemplate: \"SettingNew.Update\" },\n          request.TotalRequests\n        );\n      });\n      ctrl.$Utils.post(request).then(function(data) {\n        ctrl.updateDatagroup();\n      });\n    },\n    updateDatagroup() {\n      var ctrl = this;\n      var request = ctrl.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 4;\n      request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R1_Code = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R2_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R2_ParentCode = \"xSetting.Project.Form\";\n      request.R2_Level = \"4\";\n      request.R2_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R3_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R3_ParentCode = \"xSetting.Project.List\";\n      request.R3_Level = \"4\";\n      request.R3_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      request.R4_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R4_ParentCode = \"xSetting.Project.Filter\";\n      request.R4_Level = \"4\";\n      request.R4_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n      ctrl.$Utils.post(request).then(function(data) {\n        ctrl.SettingFilter = ctrl.$Utils.getDataWithRoot(\n          data.R1,\n          \"Data.DynamicDS.Setting\"\n        )[0];\n        if (\n          ctrl.$Utils.isEmpty(ctrl.SettingFilter, \"Description\") &&\n          typeof ctrl.SettingFilter.Description === \"string\"\n        )\n          ctrl.SettingFilter.Description = JSON.parse(\n            ctrl.SettingFilter.Description\n          );\n        ctrl.objFields = {};\n        ctrl.sortedFilter = [];\n        for (var i = 1; i <= ctrl.SettingFilter.Description.FCount; i++) {\n          if (i == 1) ctrl.FilterSettings = \"\";\n          ctrl.FilterSettings += ctrl.SettingFilter[\"F\" + i];\n          if (i == ctrl.SettingFilter.Description.FCount) {\n            ctrl.setFilterSetting = true;\n            ctrl.FilterSetting = JSON.parse(ctrl.FilterSettings);\n            ctrl.SettingFilter.Fields = ctrl.FilterSetting;\n          }\n        }\n        ctrl.viewModel.ListModules = ctrl.$Utils.getDataWithRoot(\n          data.R2,\n          \"Data.DynamicDS.Setting\"\n        );\n        ctrl.viewModel.ListModules = ctrl.viewModel.ListModules.concat(\n          ctrl.$Utils.getDataWithRoot(data.R3, \"Data.DynamicDS.Setting\")\n        );\n        ctrl.viewModel.ListModules = ctrl.viewModel.ListModules.concat(\n          ctrl.$Utils.getDataWithRoot(data.R4, \"Data.DynamicDS.Setting\")\n        );\n        $.each(ctrl.viewModel.ListModules, function(k, item) {\n          if (item.Description != undefined) {\n            item.Description = JSON.parse(item.Description);\n            item.ObjectFields = \"\";\n            for (var i = 1; i <= item.Description.OFCount; i++) {\n              if (item[\"OF\" + i] != undefined)\n                item.ObjectFields += item[\"OF\" + i];\n            }\n            item.ObjectFields = JSON.parse(item.ObjectFields);\n          }\n        });\n        ctrl.DatagroupSource = ctrl.$Lodash.cloneDeep(ctrl.viewModel.ListModules);\n      });\n    },\n    loadGroupcategories() {\n      //console.log(this.grcategories);\n      var grcate = this.grcategories;\n      $.each(grcate, (k, value) => {\n        if (value.Level) {\n          var childRank = value.Level;\n          grcate[k].Name = \"\";\n          while (childRank > 6) {\n            grcate[k].Name += \"|-- \";\n            childRank--;\n          }\n          grcate[k].Name += value.Name;\n        }\n      });\n      //console.log(this.grcate);\n    }\n  },\n  created() {\n    this.updateDatagroup();\n    this.loadGroups();\n    this.loadGroupcategories();\n    if(this.parent && this.parent.Value){\n      this.Value = this.parent.Value.split(';').filter(item =>{\n        return item.length >0;\n      });\n    }\n  },\n  watch: {}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/CreateGroupCategoryForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"inline\":!_vm.parent,\"label-width\":\"130px\",\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"Tên nghiệp vụ\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tên nghiệp vụ\"},model:{value:(_vm.formInline.Name),callback:function ($$v) {_vm.$set(_vm.formInline, \"Name\", $$v)},expression:\"formInline.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Nghiệp vụ cha\"}},[(_vm.parent)?_c('el-select',{attrs:{\"disabled\":_vm.formInline.isDisable,\"placeholder\":\"Chọn\"},model:{value:(_vm.ParentCategory),callback:function ($$v) {_vm.ParentCategory=$$v},expression:\"ParentCategory\"}},[_c('el-option',{attrs:{\"label\":_vm.parent.Name,\"value\":_vm.parent.Id}})],1):_c('el-cascader',{attrs:{\"options\":_vm.groupcategories,\"placeholder\":\"Chọn\",\"change-on-select\":\"\",\"clearable\":\"\"},on:{\"change\":function($event){_vm.setParent(_vm.formInline.ParentCategory)}},model:{value:(_vm.formInline.ParentCategory),callback:function ($$v) {_vm.$set(_vm.formInline, \"ParentCategory\", $$v)},expression:\"formInline.ParentCategory\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Thuộc phòng ban\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"clearable\":\"\",\"disabled\":_vm.formInline.isDisable,\"placeholder\":\"Chọn\"},model:{value:(_vm.Value),callback:function ($$v) {_vm.Value=$$v},expression:\"Value\"}},_vm._l((_vm.groups),function(item){return _c('el-option',{key:item.GroupId,attrs:{\"label\":item.GroupName,\"value\":item.GroupId}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Lưu\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5b40e94\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/CreateGroupCategoryForm.vue\n// module id = 930\n// module chunks = 0 1 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.centerDialogVisible)?_c('el-dialog',{attrs:{\"title\":\"Thêm nghiệp vụ\",\"visible\":_vm.centerDialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event},\"close\":_vm.closeDialog}},[_c('span',[_c('CreateGroupCategoryForm',{attrs:{\"groupcategories\":_vm.categoriesTree,\"grcategories\":_vm.categories,\"rootId\":_vm.rootId,\"callback\":_vm.loadCategories,\"parent\":_vm.item}})],1)]):_vm._e(),_vm._v(\" \"),_c('CreateGroupCategoryForm',{attrs:{\"groupcategories\":_vm.categoriesTree,\"grcategories\":_vm.categories,\"rootId\":_vm.rootId,\"callback\":_vm.loadCategories}}),_vm._v(\" \"),_c('GroupCategoryTree',{attrs:{\"callback\":_vm.loadCategories}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32c6034c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/GroupCategories.vue\n// module id = 931\n// module chunks = 0 1 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4187a870\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SettingGroupAndProject.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1ecffdb3\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4187a870\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/SettingGroupAndProject.vue\n// module id = 985\n// module chunks = 0 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"SettingGroupAndProject.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4187a870\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/SettingGroupAndProject.vue\n// module id = 986\n// module chunks = 0 1","<template>\n  <div>\n<el-tabs :tab-position=\"tabPosition\" v-model=\"activeName\">\n    <el-tab-pane label=\"Phòng ban\" name=\"Groups\">\n      <Groups v-if=\"activeName=='Groups'\"/>\n    </el-tab-pane>\n    <el-tab-pane label=\"Dự án\" name=\"Project\">\n      <Project v-if=\"activeName=='Project'\"/>\n    </el-tab-pane>\n    <el-tab-pane label=\"Nghiệp vụ\" name=\"GroupCategories\">\n      <GroupCategories v-if=\"activeName=='GroupCategories'\"/>\n    </el-tab-pane>\n    <el-tab-pane label=\"Danh mục tài liệu\" name=\"DocumentCategories\">\n     <DocumentCategories v-if=\"activeName=='DocumentCategories'\"/>\n    </el-tab-pane>\n  </el-tabs>\n  </div>\n</template>\n\n <script>\n\nimport Groups from '@/components/static/Groups.vue'\nimport GroupCategories from '@/components/static/GroupCategories.vue'\nimport Project from '@/components/static/Project.vue'\nimport DocumentCategories from '@/components/static/DocumentCategories.vue'\n\nexport default {\n  components: {\n    Groups, GroupCategories, Project, DocumentCategories\n  },\n  data () {\n    return {\n      tabPosition: 'top',\n      activeName: 'Groups'\n    }\n  },\n  methods: {\n\n  },\n  created: function () {\n\n  }\n}\n </script>\n\n  <style scoped>\n\n  </style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/SettingGroupAndProject.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bd48db2c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Project.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Project.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bd48db2c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Project.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/Project.vue\n// module id = 988\n// module chunks = 0 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bd48db2c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Project.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4ff1e59d\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-bd48db2c\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/Project.vue\n// module id = 989\n// module chunks = 0 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".project-setting th div{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/crm_2/src/components/static/Project.vue\"],\"names\":[],\"mappings\":\"AACA,wBACE,iBAAmB,CACpB\",\"file\":\"Project.vue\",\"sourcesContent\":[\"\\n.project-setting th div {\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-bd48db2c\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/Project.vue\n// module id = 990\n// module chunks = 0 1","<template>\n  <div class=\"project-setting\">\n    <!--<b-card>-->\n      <!--<b-button  @click=\"createProject()\">Tạo dự án mới</b-button>-->\n    <!--</b-card>-->\n    <el-row>\n\n      <el-col  :span=\"12\">\n        <el-button size=\"mini\" @click=\"createProject()\" icon=\"fa fa-plus\"></el-button>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-input placeholder=\"Nhập tên dự án\" v-model=\"searchText\" class=\"input-with-select\">\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getProject(searchText)\"></el-button>\n        </el-input>\n      </el-col>\n    </el-row>\n\n    <el-table :data=\"ListProject\" border style=\"width: 100%\">\n      <el-table-column label=\"Tên\" >\n        <template slot-scope=\"scope\">\n          <a href=\"javascript:void(0)\" @click=\"editProject(scope.row)\">{{scope.row.Name}}</a>\n<!--           <span class=\"link\">{{scope.row.Name}}</span>\n -->        </template>\n      </el-table-column>\n      <el-table-column label=\"Mô tả\" prop=\"Describe\" ></el-table-column>\n      <el-table-column label=\"Phòng ban\" prop=\"DepartmentName\"></el-table-column>\n      <el-table-column label=\"Hành động\" width=\"100px\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"removeProject(scope.row.Id)\" icon=\"el-icon-delete\"/>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n\n<script>\n  // let id = 1000;\n  import EditProject from '@/components/static/EditProject'\n  export default {\n    components: {EditProject},\n    data() {\n      return {\n        ListProject: [],\n        searchText: '',\n      }\n    },\n\n  created() {\n    this.getProject();\n  },\n    methods: {\n      getProject(filter) {\n       var request = this.$Lodash.cloneDeep(this.$singleRequest);\n       request.R1_RequestTemplate = \"xDocument_Document.Search\";\n       request.R1_RequestDataGroup = \"DataGroup.quan-ly-du-an.053gf\";\n       request.R1_RequestFields = \"Id;Tool;TypeName;Name;ManagerName;StatusName;StateName;PermitName;Progress;DepartmentName;PlanManHour;ActualManHour;FinishDate;PriorityName;ProductName;StartDate;Version;Code;CreatedBy;Department;Id;Manager;ModifiedBy;Priority;PriorityDescription;PriorityId;State;Status;Type;Permit;Describe;Active;ActiveName;ProjectCode;Department;DepartmentName;Manager;ManagerName;Worker;WorkerName\";\n       request.R1_Code = \"Project\";\n       this.$Utils.postCheckResult(request).then((data) => {\n         this.ListProject = this.$Utils.getDataWithRoot(data.R1, 'Data.DocumentDS.Document');\n         if(filter){\n           this.ListProject =  this.ListProject.filter(function (item) {\n             return item.Name.toLocaleLowerCase().indexOf(filter.toLowerCase()) >-1;\n           })\n         }\n       });\n     },\n     editProject(data) {\n      var user = data  ;\n      var dataToPass = {user: user, search: this.getProject}\n       this.$hub.$emit(\n         \"set-modal-data\",\n         \"Sửa thông tin dự án\",\n         \"70%\",\n         true,\n         \"center\",\n         EditProject,\n         false,\n         '',\n         dataToPass\n       );\n     },\n     removeProject(data) {\n      this.$Utils.showConfirm('Cảnh báo', this.$toastMessage.oneWayAction + this.$toastMessage.deleteSettingWarning).then(() => {\n         var searchRequest = {\n           RequestClass: 'xBase',\n           RequestAction: 'Request',\n           TotalRequests: 4,\n           // category\n           R1_RequestTemplate: 'Setting.SearchBase',\n           R1_ParentCode: 'xSetting.Project.Parameter.Project.Category',\n           R1_Value: data,\n\n           // target\n           R2_RequestTemplate: 'Setting.SearchBase',\n           R2_ParentCode: 'xSetting.Project.Parameter.Project.Target',\n           R2_Value: data,\n           // task\n           R3_RequestTemplate: 'AG_Task_Task.Search',\n           R3_RequestDataGroup: \"DataGroup.danh-sach-cong-viec.04b66\",\n           R3_RequestFields: 'Id;Index;State',\n           R3_Project: data,\n           // version\n           R4_RequestTemplate: 'xDocument_Document.Search',\n           R4_RequestDataGroup: 'DataGroup.quan-ly-version.0ad08',\n           R4_Code: 'Version',\n           R4_Project: data,\n           // group\n         }\n         this.$Utils.post(searchRequest).then((dataS) => {\n           var requestDel = this.$Lodash.cloneDeep(this.$singleRequest);\n           requestDel.R1_RequestTemplate = \"xDocument_Document.Delete\";\n           requestDel.R1_Id = data;\n           requestDel.R1_Code = \"Project\";\n           requestDel.TotalRequests = 1;\n           var i = 1;\n           //caregory request\n           var listSetting = this.$Utils.getDataWithRoot(dataS.R1, 'Data.DynamicDS.Setting');\n           $.each(listSetting, (key, value) => {\n             if (value) {\n               i++;\n               requestDel.TotalRequests++;\n               requestDel[\"R\" + i + \"_RequestTemplate\"] = \"Setting.Delete\";\n               requestDel[\"R\" + i + \"_Id\"] = value.Id;\n             }\n           });\n           // target request\n           var listSettings = this.$Utils.getDataWithRoot(dataS.R2, 'Data.DynamicDS.Setting');\n           $.each(listSettings, (key, value) => {\n             if (value) {\n               i++;\n               requestDel.TotalRequests++;\n               requestDel[\"R\" + i + \"_RequestTemplate\"] = \"Setting.Delete\";\n               requestDel[\"R\" + i + \"_Id\"] = value.Id;\n             }\n           });\n           //task request\n           var listTask = this.$Utils.getDataWithRoot(dataS.R3, 'Data.TasksDS.Task');\n           $.each(listTask, (key, value) => {\n             if (value) {\n               i++;\n               requestDel.TotalRequests++;\n               requestDel[\"R\" + i + \"_RequestTemplate\"] = 'AG_Task_Task.Update';\n               requestDel[\"R\" + i + \"_RequestDataGroup\"] = \"DataGroup.danh-sach-cong-viec.04b66\";\n               requestDel[\"R\" + i + \"_Id\"] = value.Id;\n               requestDel[\"R\" + i + \"_State\"] = 1;\n               requestDel[\"R\" + i + \"_RequestFields\"] = 'Id;Index;State';\n\n             }\n           });\n           var listVersion = this.$Utils.getDataWithRoot(dataS.R4, 'Data.DocumentDS.Document');\n           $.each(listVersion, (key, value) => {\n             if (value) {\n               i++;\n               requestDel.TotalRequests++;\n               requestDel[\"R\" + i + \"_RequestTemplate\"] = 'xDocument_Document.Delete';\n               requestDel[\"R\" + i + \"_Code\"] = 'Version';\n               requestDel[\"R\" + i + \"_Id\"] = value.Id;\n             }\n           });\n           // request Xoa\n           this.$Utils.postCheckResult(requestDel).then((data) => {\n             if (data.success) {\n               this.$Utils.showMessage('success', this.$toastMessage.deleteItemPre + this.$toastMessage.deleteItemSuf);\n               this.getProject();\n             }\n           });\n         })\n         //$mdDialog.hide();\n         //dataToPass.function.getProject();\n       })\n     },\n     createProject(){\n        var user = {}  ;\n        var dataToPass = {user: user, search: this.getProject}\n       this.$hub.$emit(\n         \"set-modal-data\",\n         \"Thêm mới dự án\",\n         \"70%\",\n         true,\n         \"center\",\n         EditProject,\n         false,\n         '',\n         dataToPass\n       );\n     }\n\n\n    }\n  };\n</script>\n<style lang=\"scss\">\n  .project-setting {\n    th div {\n      text-align: center;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/Project.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project-setting\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"fa fa-plus\"},on:{\"click\":function($event){_vm.createProject()}}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"Nhập tên dự án\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.getProject(_vm.searchText)}},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ListProject,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"Tên\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.editProject(scope.row)}}},[_vm._v(_vm._s(scope.row.Name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Mô tả\",\"prop\":\"Describe\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Phòng ban\",\"prop\":\"DepartmentName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Hành động\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.removeProject(scope.row.Id)}}})]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd48db2c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/Project.vue\n// module id = 992\n// module chunks = 0 1","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DocumentCategories.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67b005d6\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DocumentCategories.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/DocumentCategories.vue\n// module id = 993\n// module chunks = 0 1","<template>\n <div>\n <el-form :inline=\"!$isMobileDevice\" :rules=\"rules\" label-width=\"130px\" ref=\"validateForm\" :model=\"formInline\">\n   <el-form-item label=\"Tên danh mục\" prop=\"Name\">\n     <el-input v-model=\"formInline.Name\" placeholder=\"Tên danh mục\"/>\n   </el-form-item>\n   <el-form-item label=\"Danh mục cha\">\n     <el-cascader :options=\"categories\" placeholder=\"Chọn\" change-on-select clearable v-model=\"formInline.Parent\"\n                  @change=\"handleChange\"/>\n   </el-form-item>\n   <el-form-item>\n     <el-button type=\"primary\" @click=\"onSubmit('validateForm')\">Lưu</el-button>\n   </el-form-item>\n </el-form>\n <DocumentCategoryTree :datasource=\"treeData\"/>\n</div>\n</template>\n<script>\nimport DocumentCategoryTree from \"@/components/dynamic/DocumentCategoryTree\";\nimport CreateDocumentCategoryForm from \"@/components/static/CreateDocumentCategoryForm\";\nimport utilsLibrary from \"@/services/utils\";\n\nexport default {\n  components: { DocumentCategoryTree, CreateDocumentCategoryForm },\n  data() {\n    var validateName = (rule, value, callback) => {\n      if (value === undefined || value.trim() === \"\") {\n        callback(new Error(\"Tên cần phải có\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      rootId: '',\n      level: 0,\n      categories: [],\n      treeData: {\n        Name: \"Danh mục nghiệp vụ\",\n        children: [],\n        level: \"0\",\n        Level: \"5\",\n        collapseIcon: \"fa fa-cog\",\n        expandIcon: \"fa fa-cog\"\n      },\n      formInline: {\n        Name: \"\",\n        ParentId: undefined,\n        Parent: []\n      },\n      rules: {\n        Name: [{ validator: validateName, trigger: \"blur\" }]\n      },\n    };\n  },\n\n  methods: {\n    handleChange(value) {\n      this.formInline.ParentId = value[value.length - 1];\n    },\n    checkExits() {\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.SearchBase\";\n      request.R1_ParentId = utilsLibrary.isEmpty(this.formInline.ParentId)\n        ? this.formInline.ParentId\n        : this.rootId;\n      request.R1_Level = parseInt(this.level) + 1 + this.formInline.Parent.length;\n      utilsLibrary.post(request).then(data => {\n        var listExitsTags = utilsLibrary.getDataWithRoot(\n          data.R1,\n          \"Data.DynamicDS.Setting\"\n        );\n        //console.log(listExitsTags);\n        listExitsTags = listExitsTags.filter(el => {\n          return (\n            el.Name.trim().toLowerCase() ===\n            this.formInline.Name.trim().toLowerCase()\n          );\n        });\n        if (listExitsTags.length > 0) {\n          utilsLibrary.showMessage(\"error\", \"Tên đã tồn tại\");\n          return false;\n        } else {\n          //return true;\n          this.save();\n        }\n      });\n    },\n    save() {\n      var ctrl = this.formInline;\n      if(!utilsLibrary.isEmpty(ctrl.ParentId)){\n        ctrl.ParentId = this.$Lodash.cloneDeep(this.rootId);\n      }\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.R1_RequestTemplate = \"Setting.Insert\";\n      request.R1_Name = ctrl.Name;\n      request.R1_ReferenceId = ctrl.ParentId;\n      request.R1_NestedSetType = \"InsertLastChildNode\";\n      utilsLibrary.postCheckResult(request).then(dData => {\n        utilsLibrary.linkToRoleEveryone([\n          {\n            Id: dData.R1.Data,\n            Caption: ctrl.Name\n          }\n        ]);\n        this.formInline.Name = '';\n        this.formInline.Parent = [];\n        this.formInline.ParentId = undefined;\n        this.$hub.$emit(\"update-document-category-tree\", ctrl);\n        this.init();\n      });\n    },\n    onSubmit(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.checkExits();\n        } else {\n          return false;\n        }\n      });\n    },\n    init() {\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestTemplate: \"SettingNew.SearchSetting\",\n        R1_ParentCode: \"xSetting.Project.Parameter.Category\",\n        R1_IncludedNestedSetParent: true\n      };\n      this.$Utils.post(request).then(data => {\n        var category = [];\n        category = this.$Utils.getDataWithRoot(\n          data.R1,\n          \"Data.DynamicDS.Setting\"\n        );\n        var parent = category.shift();\n        this.rootId = parent.Id ;\n        this.level = parent.Level;\n        this.categories = this.$Utils.createCustomTreeFromList(\n          this.$Lodash.cloneDeep(category),\n          \"Id\",\n          \"ParentId\",\n          \"children\",\n          { Name: \"label\", Id: \"value\" },\n          {}\n        );\n      });\n    }\n  },\n  mounted() {\n    this.init();\n    this.$hub.$on(\"update-document-category-selecttree\", () => {\n      this.init();\n    });\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/DocumentCategories.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01abd379\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DocumentCategoryTree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DocumentCategoryTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01abd379\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DocumentCategoryTree.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01abd379\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dynamic/DocumentCategoryTree.vue\n// module id = 995\n// module chunks = 0 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01abd379\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./DocumentCategoryTree.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"70cf95c4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-01abd379\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/dynamic/DocumentCategoryTree.vue\n// module id = 996\n// module chunks = 0 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".document-categories .card[data-v-01abd379]{margin-bottom:0}.document-categories .custom-tree-content[data-v-01abd379]{position:relative;top:2px;z-index:1}.document-categories .custom-tree-content.exitChild[data-v-01abd379]{margin-left:-7px}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/crm_2/src/components/dynamic/DocumentCategoryTree.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,eAAmB,CACpB,AACD,2DACE,kBAAmB,AACnB,QAAS,AACT,SAAW,CACZ,AACD,qEACI,gBAAkB,CACrB\",\"file\":\"DocumentCategoryTree.vue\",\"sourcesContent\":[\"\\n.document-categories .card[data-v-01abd379] {\\n  margin-bottom: 0px;\\n}\\n.document-categories .custom-tree-content[data-v-01abd379] {\\n  position: relative;\\n  top: 2px;\\n  z-index: 1;\\n}\\n.document-categories .custom-tree-content.exitChild[data-v-01abd379] {\\n    margin-left: -7px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-01abd379\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/dynamic/DocumentCategoryTree.vue\n// module id = 997\n// module chunks = 0 1","<template>\n  <div class=\"document-categories\">\n    <b-card>\n      <sortable-tree :data=\"treeData\" mixinParentKey=\"$parent\" @changePosition=\"changePosition\" :dragEnable=\"true\"\n                     closeStateKey=\"$foldClose\">\n        <template slot-scope=\"{item}\">\n          <div class=\"custom-tree-content\" :class=\"{'exitChild': item.children && item.children.length}\">\n            <span v-if=\"item['$foldClose'] && item.children && item.children.length\" @click=\"changeState(item)\">▶</span>\n            <span v-else-if=\"!item['$foldClose'] && item.children && item.children.length\"\n                  @click=\"changeState(item)\">▼</span>\n            <span class=\"mr-3\" @click=\"changeState(item)\">{{item.Name}}</span>\n            <span>\n              <a href=\"javascript:void(0)\" @click=\"addSetting(item)\">\n                <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n              </a>\n              <span v-if=\"item.level!='0'\">\n                 | <a href=\"javascript:void(0)\" @click=\"editCategory(item)\">\n                  <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\n                </a> |\n                <a href=\"javascript:void(0)\" @click=\"deleteSetting(item)\">\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                </a>\n                </span>\n            </span>\n          </div>\n        </template>\n      </sortable-tree>\n    </b-card>\n  </div>\n\n</template>\n\n<script>\n  import EditCategory from \"@/components/static/EditDocumentCategoryForm\";\n  //import Vue from 'vue'\n  import SortableTree from \"vue-sortable-tree\";\n  //Vue.component(SortableTree.name, SortableTree);\n\n  export default {\n    components: {\n      [SortableTree.name]: SortableTree\n    },\n    props: [\"datasource\", \"callback\"],\n    data() {\n      return {\n        Name: \"\",\n        Parent: \"\",\n        ListData: [],\n        viewModel: {},\n        treeData: {\n          Name: \"Danh mục tài liệu\",\n          children: [],\n          level: \"0\",\n          Level: \"5\",\n          collapseIcon: \"fa fa-cog\",\n          expandIcon: \"fa fa-cog\"\n        }\n      };\n    },\n    created() {\n      //this.updateDatagroup();\n      this.init();\n      this.$hub.$on(\"update-document-category-tree\", () => {\n        //this.updateDatagroup();\n        this.init();\n      });\n    },\n    destroyed() {\n      this.$hub.$off(\"update-document-category-tree\");\n    },\n    mounted() {\n      // this.updateDatagroup();\n    },\n    methods: {\n      addSetting(item) {\n        this.$set(item, 'addNew', true);\n        this.$hub.$emit(\n          \"set-modal-data\",\n          \"Thêm mới danh mục\",\n          \"30%\",\n          true,\n          \"center\",\n          EditCategory,\n          false,\n          \"\",\n          item\n        );\n      },\n      init() {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.SearchSetting\";\n        request.R1_ParentCode = \"xSetting.Project.Parameter.Project.Category\";\n        request.R1_IncludedNestedSetParent = true;\n        this.$Utils.post(request).then(data => {\n          this.ListData = this.$Utils.getDataWithRoot(\n            data.R1,\n            \"Data.DynamicDS.Setting\"\n          );\n          if (this.$Utils.isEmpty(this.ListData, \"0\")) {\n            this.ParentId = this.$Lodash.cloneDeep(this.ListData[0].Id);\n            this.ListData.shift();\n            this.PageKey = this.ListData[0];\n            this.getSetting();\n          }\n        });\n      },\n      getSetting() {\n        this.ListData = [];\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.SearchSettingTree\";\n        request.R1_ParentCode = \"xSetting.Project.Parameter.Category\";\n        request.R2_RequestTemplate = \"Setting.SearchSetting\";\n        request.R2_ParentCode = \"xSetting.Project.Parameter.Category\";\n        request.TotalRequests = 2;\n        this.$Utils.postCheckResult(request).then(data => {\n          this.treeData.children = this.$Utils.getDataWithRoot(data.R1, \"Data\");\n          var SourceList = this.$Utils.getDataWithRoot(\n            data.R2,\n            \"Data.DynamicDS.Setting\"\n          );\n          if (this.$Utils.isEmpty(SourceList, \"0\")) {\n            var RootLevel = this.$Lodash.cloneDeep(SourceList[0].Level);\n          }\n          $.each(SourceList, (key, value) => {\n            var index = key - 1;\n            this.ListData.push(value);\n            var childRank = eval(value.Level - RootLevel);\n            this.ListData[key].text = \"\";\n            while (childRank > 0) {\n              this.ListData[key].text += \"|-- \";\n              childRank--;\n            }\n            this.ListData[key].text += value.Name;\n          });\n        });\n      },\n      consoleData(item) {\n        //console.log(this.treeData);\n        // console.log(item);\n      },\n      changeState(item) {\n        this.$set(item, \"$foldClose\", !item[\"$foldClose\"]);\n      },\n      changePosition(option) {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.MoveNode\";\n        request.R1_Id = option.data.Id;\n        if (\n          option.afterParent.children &&\n          option.afterParent.children.length > 1\n        ) {\n          var index = 0;\n          $.each(option.afterParent.children, (key, value) => {\n            if (value.Id == option.data.Id && key > 0) {\n              index = key - 1;\n              request.R1_ReferenceId = option.afterParent.children[index].Id;\n              request.R1_NestedSetType = \"MoveToAfterAnother\";\n            } else if (value.Id == option.data.Id && key == 0) {\n              index = 1;\n              request.R1_ReferenceId = option.afterParent.children[index].Id;\n              request.R1_NestedSetType = \"MoveToBeforeAnother\";\n            }\n          });\n        } else {\n          request.R1_ReferenceId = option.afterParent.Id;\n          request.R1_NestedSetType = \"MoveToLastChildNode\";\n        }\n        this.$Utils.post(request).then(data => {\n          this.getAllLevel(option.afterParent.Level, option.data);\n          this.$hub.$emit(\"update-document-category-tree-form\");\n        });\n      },\n      editCategory(item) {\n        this.$hub.$emit(\n          \"set-modal-data\",\n          \"Sửa danh mục\",\n          \"30%\",\n          true,\n          \"center\",\n          EditCategory,\n          false,\n          \"\",\n          item\n        );\n      },\n      deleteSetting(data) {\n        this.$confirm(\n          \"Bạn có chăc chắn muốn xóa nghiệp vụ {0} này?\".replace(\n            \"{0}\",\n            data.Name\n          ),\n          \"Cảnh báo\",\n          {\n            confirmButtonText: \"Xóa\",\n            cancelButtonText: \"Bỏ qua\",\n            type: \"warning\"\n          }\n        )\n          .then(() => {\n            if (this.$Utils.isEmpty(data)) {\n              var sourceTree = this.$Lodash.cloneDeep(this.ListData);\n              this.deleteItem(data, sourceTree)\n            }\n          })\n          .catch(() => {\n            /*\n            this.$message({\n              type: \"info\",\n              message: \"Lỗi khi xóa\"\n            });\n            */\n          });\n      },\n\n      deleteItem(data, sourceTree) {\n        var ctrl = this;\n        var request = ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.Delete\";\n        request.R1_Id = data.Id;\n        ctrl.$Utils.postCheckResult(request).then(dData => {\n          var flag = true;\n          $.each(sourceTree, (key, value) => {\n            if (data.Id == value.ParentId) {\n              ctrl.deleteItem(value, sourceTree);\n              flag = false;\n            }\n          });\n          if(flag === true){\n            ctrl.getSetting();\n            ctrl.$hub.$emit(\"update-document-category-selecttree\");\n          }\n        });\n      },\n\n      checkExits() {\n        if (this.Parent && this.Parent != \"\")\n          this.objParent = this.ListData.filter(el => {\n            return el.Id == this.Parent;\n          })[0];\n        // else {\n        //   this.objParent = this.PageKey;\n        // }\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.SearchSetting\";\n        //request.R1_Value = this.data.Id;\n        request.R1_ParentCode = \"xSetting.Project.Parameter.Category\";\n        this.$Utils.post(request).then(data => {\n          var listExitsCate = this.$Utils.getDataWithRoot(\n            data.R1,\n            \"Data.DynamicDS.Setting\"\n          );\n          listExitsCate = listExitsCate.filter(el => {\n            return el.Name == this.Name;\n          });\n          if (listExitsCate.length > 0) {\n            // console.log(\"Chuyên mục đã tồn tại\");\n            // if ($rootScope.application.versionName == 'Professional') {\n            //   this.$Utils.showMessage('error', 'Danh mục nghiệp vụ đã tồn tại');\n            // } else if ($rootScope.application.versionName == 'Enterprise') {\n            //   this.$Utils.showMessage('error', 'Chuyên mục đã tồn tại');\n            // }\n          } else {\n            this.insertSetting();\n          }\n        });\n      },\n      insertSetting(data) {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.R1_RequestTemplate = \"Setting.Insert\";\n        request.R1_Name = this.Name;\n        //request.R1_Value = this.data.Id;\n        request.R1_ValueName = this.data.Name;\n        request.R1_ReferenceId = this.$Utils.isEmpty(this.objParent)\n          ? this.objParent.Id\n          : this.ParentId;\n        request.R1_NestedSetType = \"InsertLastChildNode\";\n        this.$Utils.postCheckResult(request).then(dData => {\n          this.$Utils.linkToRoleEveryone([\n            {\n              Id: dData.R1.Data,\n              Caption: this.Name\n            }\n          ]);\n          if (this.$Utils.isEmpty(this.objParent, \"Level\"))\n            this.onSave(this.objParent.Level);\n          else this.onSave(5);\n          // if (this.$Utils.isEmpty(data)) {\n          //   var pass = {};\n          //   pass.Id = dData.R1.Data;\n          //   pass.Name = this.$Lodash.cloneDeep(this.Name)\n          //   pass.Value = this.objParent.Id;\n          //   pass.ValueName = this.objParent.Name;\n          //   this.showSetting(pass)\n          // }\n          this.Name = null;\n          this.objParent = null;\n          this.getSetting();\n        });\n      },\n      updateDatagroup() {\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.TotalRequests = 4;\n        request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R1_Code = \"DataGroup.danh-sach-cong-viec.04b66\";\n        request.R2_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R2_ParentCode = \"xSetting.Project.Form\";\n        request.R2_Level = \"4\";\n        request.R2_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n        request.R3_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R3_ParentCode = \"xSetting.Project.List\";\n        request.R3_Level = \"4\";\n        request.R3_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n        request.R4_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R4_ParentCode = \"xSetting.Project.Filter\";\n        request.R4_Level = \"4\";\n        request.R4_Name = \"DataGroup.danh-sach-cong-viec.04b66\";\n        this.$Utils.post(request).then(data => {\n          this.SettingFilter = this.$Utils.getDataWithRoot(\n            data.R1,\n            \"Data.DynamicDS.Setting\"\n          )[0];\n          if (\n            this.$Utils.isEmpty(this.SettingFilter, \"Description\") &&\n            typeof this.SettingFilter.Description == \"string\"\n          )\n            this.SettingFilter.Description = JSON.parse(\n              this.SettingFilter.Description\n            );\n          this.objFields = {};\n          this.sortedFilter = [];\n          for (var i = 1; i <= this.SettingFilter.Description.FCount; i++) {\n            if (i == 1) this.FilterSettings = \"\";\n            this.FilterSettings += this.SettingFilter[\"F\" + i];\n            if (i == this.SettingFilter.Description.FCount) {\n              this.setFilterSetting = true;\n              this.FilterSetting = JSON.parse(this.FilterSettings);\n              this.SettingFilter.Fields = this.FilterSetting;\n            }\n          }\n          this.viewModel.ListModules = this.$Utils.getDataWithRoot(\n            data.R2,\n            \"Data.DynamicDS.Setting\"\n          );\n          this.viewModel.ListModules = this.viewModel.ListModules.concat(\n            this.$Utils.getDataWithRoot(data.R3, \"Data.DynamicDS.Setting\")\n          );\n          this.viewModel.ListModules = this.viewModel.ListModules.concat(\n            this.$Utils.getDataWithRoot(data.R4, \"Data.DynamicDS.Setting\")\n          );\n          this.viewModel.ListModules.forEach(item => {\n            if (item.Description != undefined) {\n              item.Description = JSON.parse(item.Description);\n              item.ObjectFields = \"\";\n              for (var i = 1; i <= 7; i++) {\n                if (item[\"OF\" + i] != undefined)\n                  item.ObjectFields += item[\"OF\" + i];\n              }\n              item.ObjectFields = JSON.parse(item.ObjectFields);\n            }\n          });\n          this.DatagroupSource = this.$Lodash.cloneDeep(\n            this.viewModel.ListModules\n          );\n        });\n      },\n      onSave(level, status) {\n        var strFields = JSON.stringify(this.SettingFilter.Fields);\n        level = level - 4;\n        if (strFields.indexOf(\"CategoriesLevel\" + level) == -1) {\n          var obj = {\n            Caption: \"Danh mục phòng ban cấp \" + level,\n            DataSource: \"xDynamicData_Setting\",\n            FieldColumnType: \"String\",\n            FieldStorageType: \"Struct\",\n            FilterIsUsed: \"true\",\n            FormDisplay: \"- Danh mục phòng ban cấp \" + level + \" -\",\n            FormFieldType: \"Hidden\",\n            FormIncludeSubmit: \"true\",\n            FormValidate: \"\",\n            ListButtonGroups: \"\",\n            ListIsHidden: \"true\",\n            Name: \"CategoriesLevel\" + level,\n            PlaceHolder: \"- Danh mục phòng ban \" + level + \" -\",\n            ReportIsUsed: \"true\"\n          };\n          this.SettingFilter.Fields.push(obj);\n          strFields = JSON.stringify(this.SettingFilter.Fields);\n          var arrValue = JSON.parse(this.SettingFilter.Value);\n          var objValue = {\n            Name: \"CategoriesLevel\" + level,\n            ColumnType: \"String\",\n            StorageType: \"Struct\"\n          };\n          arrValue.push(objValue);\n          this.SettingFilter.Value = JSON.stringify(arrValue);\n          this.sourceFields = this.$Lodash.cloneDeep(this.SettingFilter.Fields);\n          delete this.SettingFilter.Fields;\n          var iStartIndex = 0;\n          this.SettingFilter.Description.FCount = 0;\n          for (var i = 1; i < 7; i++) {\n            if (strFields.length > iStartIndex) {\n              this.SettingFilter[\"F\" + i] = strFields.substring(\n                iStartIndex,\n                iStartIndex + 9999\n              );\n              iStartIndex = 10000 * i - i;\n              this.SettingFilter.Description.FCount = i;\n            }\n          }\n          this.SettingFilter.Description = JSON.stringify(\n            this.SettingFilter.Description\n          );\n          if (!this.$Utils.isEmpty(status) || status == false) {\n            var requestData = this.$Lodash.cloneDeep(this.$singleRequest);\n            this.$Utils.updateParamsSingleRequest(\n              requestData,\n              this.$Lodash.cloneDeep(this.SettingFilter)\n            );\n            requestData.R1_RequestTemplate = \"SettingNew.Update\";\n            this.$Utils.post(requestData).then(requestData => {\n              this.saveModules();\n            });\n          }\n        }\n      },\n      saveModules() {\n        var dataGroup = this.$Lodash.cloneDeep(this.SettingFilter);\n        dataGroup.Description = JSON.parse(dataGroup.Description);\n        dataGroup.Description.Fields = this.$Lodash.cloneDeep(this.sourceFields);\n        var arrModules = this.$Lodash.cloneDeep(this.viewModel.ListModules);\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.TotalRequests = 0;\n        arrModules.forEach(module => {\n          request.TotalRequests++;\n\n          module.ModuleType = module.Value;\n          module.Description.DataGroupCaption = dataGroup.Caption;\n          module.Description.RootData = dataGroup.Description.RootData;\n          module.Description.DataSource = dataGroup.Description.DataSource;\n          module.Description.AdditionConditions =\n            dataGroup.Description.AdditionConditions;\n          if (\n            [\"Form\", \"Filter\", \"List\"].indexOf(module.Description.ModuleType) !=\n            -1\n          )\n            module.Description.Link = dataGroup.Description.Link;\n\n          if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1)\n            module.Description.Dependencies = dataGroup.Description.Dependencies;\n          var refFields = this.$Lodash.cloneDeep(module.ObjectFields);\n          var arrDefaultFields = [\"Multicheck\", \"IndexDefault\", \"Tool\"];\n          refFields.forEach(field => {\n            var isExist = false;\n            for (var i = 0; i < dataGroup.Description.Fields.length; i++) {\n              var dgField = dataGroup.Description.Fields[i];\n              if (field.Name == dgField.Name) {\n                isExist = true;\n                break;\n              }\n            }\n            if ([\"List\"].indexOf(module.Description.ModuleType) != -1) {\n              if (arrDefaultFields.indexOf(field.Name) != -1) isExist = true;\n              if (field.ManualCalculator == \"true\") isExist = true;\n            }\n            if (!isExist) {\n              $.each(module.ObjectFields, (index, sourceField) => {\n                if (field.Name == sourceField.Name)\n                  module.ObjectFields.splice(index, 1);\n              });\n              if (module.Description.Groups != undefined) {\n                module.Description.Groups.forEach(group => {\n                  if (group.ListFields != undefined)\n                    if (group.ListFields.indexOf(field.Name) != -1)\n                      group.ListFields = group.ListFields.replace(\n                        field.Name + \";\",\n                        \"\"\n                      );\n                });\n              }\n            }\n          });\n          if (this.$Utils.isEmpty(module.Description, \"Buttons\")) {\n            var refButtons = this.$Lodash.cloneDeep(module.Description.Buttons);\n            refButtons.forEach(button => {\n              var isExist = false;\n              for (var i = 0; i < dataGroup.Description.Buttons.length; i++) {\n                var dgButton = dataGroup.Description.Buttons[i];\n                if (dgButton.Code == button.Code) isExist = true;\n              }\n              if (!isExist) {\n                $.each(module.Description.Buttons, (index, sourceButton) => {\n                  if (button.Code == sourceButton.Code)\n                    module.Description.Buttons.splice(index, 1);\n                });\n              }\n            });\n\n            module.Description.Buttons.forEach(moduleButton => {\n              module.Description.Buttons.forEach(dgButton => {\n                if (dgButton.Code == moduleButton.Code) moduleButton = dgButton;\n              });\n            });\n          }\n\n          if ([\"Form\", \"List\"].indexOf(module.Description.ModuleType) != -1) {\n            for (var i = 0; i < module.Description.Buttons.length; i++) {\n              dataGroup.Description.Buttons.forEach(dgButton => {\n                if (module.Description.Buttons[i].Code == dgButton.Code)\n                  module.Description.Buttons[i] = dgButton;\n              });\n            }\n          }\n\n          module.Fields = this.$Lodash.cloneDeep(module.ObjectFields);\n          module.Fields.forEach(field => {\n            dataGroup.Description.Fields.forEach(dgField => {\n              if (dgField.Name == field.Name) {\n                $.each(dgField, (key, value) => {\n                  if (!this.$Utils.isEmpty(field[key])) field[key] = value;\n                });\n                this.$Utils.deleteAutoValue(field);\n              }\n            });\n          });\n\n          if ([\"Form\", \"Filter\"].indexOf(module.Description.ModuleType) != -1) {\n            dataGroup.Description.Fields.forEach(field => {\n              this.$Utils.deleteAutoValue(field);\n              if (field.FormFieldType == \"Hidden\") module.Fields.push(field);\n              if (field.DynamicText != undefined && field.DynamicText != null)\n                module.Fields.push({\n                  Name: field.DynamicText,\n                  FieldStorageType: \"Dynamic\"\n                });\n            });\n          } else {\n            dataGroup.Description.Fields.forEach(field => {\n              this.$Utils.deleteAutoValue(field);\n              if (field.ListIsHidden == \"true\") module.Fields.push(field);\n              if (field.DynamicText != undefined && field.DynamicText != null)\n                module.Fields.push({\n                  Name: field.DynamicText,\n                  FieldStorageType: \"Dynamic\"\n                });\n            });\n          }\n\n          module.ObjectFields = JSON.stringify(module.ObjectFields);\n          var iStartIndex = 0;\n          var iFieldCount = 0;\n          for (var i = 1; i < 7; i++) {\n            if (module.ObjectFields.length > iStartIndex) {\n              module[\"OF\" + i] = module.ObjectFields.substring(\n                iStartIndex,\n                iStartIndex + 9999\n              );\n              iStartIndex = 10000 * i - i;\n              iFieldCount = i;\n            }\n          }\n          module.Description.OFCount = iFieldCount;\n          delete module.ObjectFields;\n\n          iStartIndex = 0;\n          iFieldCount = 0;\n          module.Fields = JSON.stringify(module.Fields);\n          for (var i = 1; i < 7; i++) {\n            if (module.Fields.length > iStartIndex) {\n              module[\"F\" + i] = module.Fields.substring(\n                iStartIndex,\n                iStartIndex + 9999\n              );\n              iStartIndex = 10000 * i - i;\n              iFieldCount = i;\n            }\n          }\n          module.Description.FCount = iFieldCount;\n          delete module.Fields;\n\n          module.Description = JSON.stringify(module.Description);\n          request = this.$Utils.updateParamsSingleRequest(\n            request,\n            module,\n            request.TotalRequests\n          );\n          request = this.$Utils.updateParamsSingleRequest(\n            request,\n            {RequestTemplate: \"SettingNew.Update\"},\n            request.TotalRequests\n          );\n        });\n        this.$Utils.post(request).then(data => {\n          this.updateDatagroup();\n        });\n      },\n      getAllLevel(parent, data) {\n        // if (this.$Utils.isEmpty(next, 'nextItem') && next.nextItem.level > ori) {\n        //   if (next.nextItem.level > maxLevel) {\n        //     maxLevel = next.nextItem.level;\n        //     level = level + 1;\n        //   }\n        //   getAllLevel(next.nextItem, ori, maxLevel, level, dropPosition, parent)\n        // } else if (level > 1) {\n        //   for (var i = 0; i <= level; i++) {\n        //     var status = false;\n        //     if (i < level - 1)\n        //       status = true;\n        //     if (dropPosition == 'inside')\n        //       this.onSave(parent + i + 6, status);\n        //     else {\n        //       this.onSave(parent + i + 5, status);\n        //     }\n        //   }\n        // } else {\n        //   if (dropPosition == 'inside')\n        //     this.onSave(parent + 6);\n        //   else {\n        //     this.onSave(parent + 5);\n        //   }\n        // }\n        this.onSave(eval(parent) + 1);\n        if (this.$Utils.isEmpty(data.children)) {\n          this.getAllLevel(eval(parent) + 1, data.children);\n        }\n      },\n      checkParent(selectedItem) {\n        if (this.$Utils.isEmpty(selectedItem, \"$parent\")) {\n          var parent = this.$Lodash.cloneDeep(selectedItem.$parent);\n          delete selectedItem.$parent;\n          this.inputData.unshift(parent);\n          this.checkParent(selectedItem.$parent);\n        } else {\n          // this.inputData.unshift(value)\n          var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n          taskRequest.TotalRequests = 0;\n          $.each(this.ListTask, (index, task) => {\n            if (\n              this.$Utils.isEmpty(task, \"CategoriesName\") &&\n              task.Categories != \"\"\n            ) {\n              var flag = false;\n              var newCategory = this.$Lodash.cloneDeep(this.inputData);\n              var catName = this.$Utils.isEmpty(task, \"CategoriesName\")\n                ? task.CategoriesName.split(\";\")\n                : [];\n              $.each(task.Categories.split(\";\"), (key, category) => {\n                if (category != \"\") {\n                  if (flag == true) {\n                    var cat = {};\n                    cat.Id = category;\n                    cat.Name = catName[key];\n                    newCategory.push(cat);\n                  }\n                  if (category == this.inputData[this.inputData.length - 1].Id) {\n                    flag = true;\n                  }\n                }\n              });\n              if (flag == true) {\n                taskRequest[\n                \"R\" + [taskRequest.TotalRequests + 1] + \"_RequestTemplate\"\n                  ] =\n                  \"AG_Task_Task.Update\";\n                taskRequest[\n                \"R\" + [taskRequest.TotalRequests + 1] + \"_RequestDataGroup\"\n                  ] =\n                  \"DataGroup.danh-sach-cong-viec.04b66\";\n                taskRequest[\n                \"R\" + [taskRequest.TotalRequests + 1] + \"_RequestFields\"\n                  ] =\n                  \"Id;Index;Categories;Code;\";\n                taskRequest[\n                \"R\" + [taskRequest.TotalRequests + 1] + \"_Categories\"\n                  ] =\n                  \"\";\n                taskRequest[\n                \"R\" + [taskRequest.TotalRequests + 1] + \"_CategoriesName\"\n                  ] =\n                  \"\";\n                taskRequest[\"R\" + [taskRequest.TotalRequests + 1] + \"_Id\"] =\n                  task.Id;\n                $.each(newCategory, function (val, key) {\n                  taskRequest[\n                  \"R\" + [taskRequest.TotalRequests + 1] + \"_Categories\"\n                    ] +=\n                    val.Id + \";\";\n                  taskRequest[\n                  \"R\" + [taskRequest.TotalRequests + 1] + \"_CategoriesName\"\n                    ] +=\n                    val.Name + \";\";\n                  taskRequest[\n                  \"R\" +\n                  [taskRequest.TotalRequests + 1] +\n                  \"_CategoriesLevel\" +\n                  [key + 1]\n                    ] =\n                    val.Id;\n                  taskRequest[\n                  \"R\" + [taskRequest.TotalRequests + 1] + \"_RequestFields\"\n                    ] +=\n                    \"CategoriesLevel\" + [key + 1] + \";\";\n                });\n                taskRequest.TotalRequests++;\n              }\n            }\n          });\n          this.$Utils.post(taskRequest);\n        }\n\n        // $.each($scope.viewModel.treeSettings.getItems(), function(item) {\n        //   $.each(this.ListCat, function(value) {\n        //     if (selectedItem.value == value.Id && item.value == value.ParentId) {\n        //       this.inputData.unshift(value)\n        //       checkParent(item)\n        //     }\n        //     if (selectedItem.value == value.Id && selectedItem.level == \"0\" && (this.$Utils.isEmpty(this.inputData, '0') && this.inputData[0].Id != value.Id || !this.$Utils.isEmpty(this.inputData, '0'))) {\n        //       this.inputData.unshift(value)\n        //       var taskRequest = this.$Lodash.cloneDeep(this.$singleRequest);\n        //       taskRequest.TotalRequests = 0;\n        //       $.each($scope.ListTask, function(task, index) {\n        //         if (this.$Utils.isEmpty(task, 'ProjectCategoriesName') && task.Categories != \"\") {\n        //           var flag = false;\n        //           var newCategory = this.$Lodash.cloneDeep(this.inputData);\n        //           var catName = this.$Utils.isEmpty(task, 'ProjectCategoriesName') ? task.CategoriesName.split(';') : [];\n        //           $.each(task.Categories.split(';'), function(category, key) {\n        //             if (category != \"\") {\n        //               if (flag == true) {\n        //                 var cat = {};\n        //                 cat.Id = category;\n        //                 cat.Name = catName[key];\n        //                 newCategory.push(cat)\n        //               }\n        //               if (category == this.inputData[this.inputData.length - 1].Id) {\n        //                 flag = true;\n        //               }\n        //             }\n        //           })\n        //           if (flag == true) {\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestTemplate'] = \"AG_Task_Task.Update\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestDataGroup'] = \"DataGroup.danh-sach-cong-viec.04b66\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] = \"Id;Index;ProjectCategories;Code;\"\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategories'] = \"\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategoriesName'] = \"\";\n        //             taskRequest['R' + [taskRequest.TotalRequests + 1] + '_Id'] = task.Id;\n        //             $.each(newCategory, function(val, key) {\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategories'] += val.Id + \";\";\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategoriesName'] += val.Name + \";\";\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_ProjectCategoriesLevel' + [key + 1]] = val.Id;\n        //               taskRequest['R' + [taskRequest.TotalRequests + 1] + '_RequestFields'] += 'ProjectCategoriesLevel' + [key + 1] + ';';\n        //             })\n        //             taskRequest.TotalRequests++;\n        //           }\n        //         }\n        //       })\n        //       this.$Utils.post(taskRequest).then(function(xtask) {})\n        //     }\n        //   })\n        // });\n      }\n    }\n  };\n</script>\n<style lang=\"scss\" scoped>\n  .document-categories {\n    .card {\n      margin-bottom: 0px;\n    }\n    .custom-tree-content {\n      position: relative;\n      top: 2px;\n      z-index: 1;\n      &.exitChild {\n        margin-left: -7px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/dynamic/DocumentCategoryTree.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDocumentCategoryForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b66c3c6\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditDocumentCategoryForm.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/EditDocumentCategoryForm.vue\n// module id = 999\n// module chunks = 0 1"],"sourceRoot":""}